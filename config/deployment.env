# SafeWork Deployment Configuration
# Environment-based configuration to eliminate hardcoding

# ===========================================
# INFRASTRUCTURE ENDPOINTS
# ===========================================
PORTAINER_URL=https://portainer.jclee.me
PORTAINER_API_KEY=ptr_lejbr5d8IuYiEQCNpg2VdjFLZqRIEfQiJ7t0adnYQi8=
PORTAINER_ENDPOINT_ID=3

REGISTRY_HOST=registry.jclee.me
REGISTRY_USER=admin
REGISTRY_PASSWORD=${REGISTRY_PASSWORD}

PRODUCTION_URL=https://safework.jclee.me
DEVELOPMENT_URL=https://safework-dev.jclee.me

# ===========================================
# CONTAINER CONFIGURATION
# ===========================================
APP_NAME=safework
NETWORK_NAME=watchtower_default
CONTAINER_RESTART_POLICY=unless-stopped

# Container Names
POSTGRES_CONTAINER=safework-postgres
REDIS_CONTAINER=safework-redis
APP_CONTAINER=safework-app

# Container Images
POSTGRES_IMAGE=registry.jclee.me/safework/postgres:latest
REDIS_IMAGE=registry.jclee.me/safework/redis:latest
APP_IMAGE=registry.jclee.me/safework/app:latest

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DB_HOST=safework-postgres
DB_NAME=safework_db
DB_USER=safework
DB_PASSWORD=${POSTGRES_PASSWORD}
DB_PORT=5432

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_HOST=safework-redis
REDIS_PORT=6379
REDIS_DB=0

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
TZ=Asia/Seoul
FLASK_CONFIG=production
SECRET_KEY=${SECRET_KEY}
WTF_CSRF_ENABLED=false

# ===========================================
# PORT CONFIGURATION
# ===========================================
APP_PORT=4545
POSTGRES_PORT=5432
REDIS_PORT=6379

# ===========================================
# DOCKER API CONFIGURATION
# ===========================================
DOCKER_API_VERSION=1.41
DOCKER_TIMEOUT=300
CONTAINER_START_TIMEOUT=60
CONTAINER_STOP_TIMEOUT=30

# ===========================================
# MONITORING CONFIGURATION
# ===========================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=15
LOG_RETENTION_DAYS=7

# ===========================================
# RECOVERY CONFIGURATION
# ===========================================
RECOVERY_MAX_ATTEMPTS=3
RECOVERY_RETRY_DELAY=30
CONTAINER_RESTART_DELAY=10
NETWORK_RECREATION_TIMEOUT=60

# ===========================================
# BACKGROUND TASKS CONFIGURATION
# ===========================================
ENABLE_BACKGROUND_TASKS=1
