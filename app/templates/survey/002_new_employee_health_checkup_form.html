{% extends "base.html" %}

{% block title %}ì‹ ê·œ ì…ì‚¬ì ê±´ê°•ê²€ì§„í‘œ - {{ app_name }}{% endblock %}

{% block extra_css %}
<style>
    .survey-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 15px;
        min-width: 0;
        overflow-x: hidden;
    }
    
    .section-card {
        background: #ffffff;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        border: 1px solid #e5e7eb;
    }
    
    .section-title {
        color: #1f2937;
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #3b82f6;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .form-row {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
        flex-wrap: wrap;
    }
    
    .form-group {
        flex: 1;
        min-width: 250px;
    }
    
    .form-group.half {
        flex: 0 0 calc(50% - 7.5px);
        min-width: 150px;
    }
    
    .form-group.third {
        flex: 0 0 calc(33.333% - 10px);
        min-width: 120px;
    }
    
    .form-label {
        display: block;
        font-weight: 500;
        color: #374151;
        margin-bottom: 5px;
        font-size: 0.9rem;
    }
    
    .form-control {
        width: 100%;
        padding: 10px 12px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 14px;
        background: #ffffff;
        transition: border-color 0.2s, box-shadow 0.2s;
    }
    
    .form-control:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .radio-group {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-top: 8px;
    }
    
    .radio-item {
        display: flex;
        align-items: center;
        gap: 6px;
    }
    
    .radio-item input {
        margin: 0;
    }
    
    .radio-item label {
        margin: 0;
        font-size: 0.9rem;
        color: #374151;
        cursor: pointer;
    }
    
    .btn-primary {
        background: #3b82f6;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        font-weight: 500;
        font-size: 1rem;
        transition: background-color 0.2s;
        width: 100%;
        margin-top: 20px;
    }
    
    .btn-primary:hover {
        background: #2563eb;
    }
    
    .text-danger {
        color: #ef4444 !important;
    }
    
    @media (max-width: 768px) {
        .survey-container {
            padding: 10px;
        }
        
        .form-group,
        .form-group.half,
        .form-group.third {
            min-width: 100%;
            flex: 1 1 100%;
        }
        
        .radio-group {
            gap: 10px;
        }
        
        .section-card {
            padding: 15px;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="survey-container">
    <div class="text-center mb-4">
        <h1 class="h2 text-primary mb-2">ì‹ ê·œ ì…ì‚¬ì ê±´ê°•ê²€ì§„í‘œ</h1>
        <p class="text-muted">ê±´ê°•í•œ ì—…ë¬´ í™˜ê²½ì„ ìœ„í•œ ì‚¬ì „ ê±´ê°• ì •ë³´ ìˆ˜ì§‘</p>
    </div>
    
    <form method="POST" action="{{ url_for('survey.new_employee_health_checkup_form') }}">
        <!-- CSRF token disabled for survey testing -->
        
        <!-- I. ê¸°ë³¸ ì •ë³´ -->
        <div class="section-card">
            <h3 class="section-title">
                <span>ğŸ“‹</span> I. ê¸°ë³¸ ì •ë³´
            </h3>
            
            <div class="form-row">
                <div class="form-group third">
                    <label class="form-label" for="employee_number">ì‚¬ë²ˆ <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" name="employee_number" id="employee_number" required>
                </div>
                <div class="form-group third">
                    <label class="form-label" for="name">ì„±ëª… <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" name="name" id="name" required>
                </div>
                <div class="form-group third">
                    <label class="form-label" for="age">ë‚˜ì´ <span class="text-danger">*</span></label>
                    <input type="number" class="form-control" name="age" id="age" min="18" max="100" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label">ì„±ë³„ <span class="text-danger">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="gender" id="gender_male" value="ë‚¨" required>
                            <label for="gender_male">ë‚¨</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="gender" id="gender_female" value="ì—¬" required>
                            <label for="gender_female">ì—¬</label>
                        </div>
                    </div>
                </div>
                <div class="form-group half">
                    <label class="form-label" for="department">ë¶€ì„œ <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" name="department" id="department" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label" for="position">ì§ê¸‰ <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" name="position" id="position" required>
                </div>
                <div class="form-group half">
                    <label class="form-label" for="hire_date">ì…ì‚¬ì˜ˆì •ì¼</label>
                    <input type="date" class="form-control" name="hire_date" id="hire_date">
                </div>
            </div>
        </div>

        <!-- II. ì‹ ì²´ ì •ë³´ -->
        <div class="section-card">
            <h3 class="section-title">
                <span>ğŸ“</span> II. ì‹ ì²´ ì •ë³´
            </h3>
            
            <div class="form-row">
                <div class="form-group third">
                    <label class="form-label" for="height_cm">ì‹ ì¥ (cm)</label>
                    <input type="number" class="form-control" name="height_cm" id="height_cm" min="100" max="250" step="0.1">
                </div>
                <div class="form-group third">
                    <label class="form-label" for="weight_kg">ì²´ì¤‘ (kg)</label>
                    <input type="number" class="form-control" name="weight_kg" id="weight_kg" min="30" max="200" step="0.1">
                </div>
                <div class="form-group third">
                    <label class="form-label" for="blood_type">í˜ˆì•¡í˜•</label>
                    <select class="form-control" name="blood_type" id="blood_type">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="A">Aí˜•</option>
                        <option value="B">Bí˜•</option>
                        <option value="AB">ABí˜•</option>
                        <option value="O">Oí˜•</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label" for="vision_left">ì¢Œì¸¡ ì‹œë ¥</label>
                    <input type="number" class="form-control" name="vision_left" id="vision_left" min="0" max="2.0" step="0.1">
                </div>
                <div class="form-group half">
                    <label class="form-label" for="vision_right">ìš°ì¸¡ ì‹œë ¥</label>
                    <input type="number" class="form-control" name="vision_right" id="vision_right" min="0" max="2.0" step="0.1">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label" for="hearing_left">ì¢Œì¸¡ ì²­ë ¥</label>
                    <select class="form-control" name="hearing_left" id="hearing_left">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="ì •ìƒ">ì •ìƒ</option>
                        <option value="ê²½ë„ë‚œì²­">ê²½ë„ë‚œì²­</option>
                        <option value="ì¤‘ë“±ë„ë‚œì²­">ì¤‘ë“±ë„ë‚œì²­</option>
                        <option value="ê³ ë„ë‚œì²­">ê³ ë„ë‚œì²­</option>
                    </select>
                </div>
                <div class="form-group half">
                    <label class="form-label" for="hearing_right">ìš°ì¸¡ ì²­ë ¥</label>
                    <select class="form-control" name="hearing_right" id="hearing_right">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="ì •ìƒ">ì •ìƒ</option>
                        <option value="ê²½ë„ë‚œì²­">ê²½ë„ë‚œì²­</option>
                        <option value="ì¤‘ë“±ë„ë‚œì²­">ì¤‘ë“±ë„ë‚œì²­</option>
                        <option value="ê³ ë„ë‚œì²­">ê³ ë„ë‚œì²­</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="blood_pressure">í˜ˆì••</label>
                    <input type="text" class="form-control" name="blood_pressure" id="blood_pressure" placeholder="ì˜ˆ: 120/80">
                </div>
            </div>
        </div>

        <!-- III. ê±´ê°• ê´€ë ¨ ì •ë³´ -->
        <div class="section-card">
            <h3 class="section-title">
                <span>ğŸ¥</span> III. ê±´ê°• ê´€ë ¨ ì •ë³´
            </h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="existing_conditions">ê¸°ì¡´ ì§ˆí™˜ ë° ë³‘ë ¥</label>
                    <textarea class="form-control" name="existing_conditions" id="existing_conditions" rows="3" placeholder="í˜„ì¬ ì¹˜ë£Œë°›ê³  ìˆëŠ” ì§ˆí™˜ì´ë‚˜ ê³¼ê±° ë³‘ë ¥ì´ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="medication_history">ë³µìš©ì•½ë¬¼ ì´ë ¥</label>
                    <textarea class="form-control" name="medication_history" id="medication_history" rows="2" placeholder="í˜„ì¬ ë³µìš© ì¤‘ì¸ ì•½ë¬¼ì´ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="allergy_history">ì•Œë ˆë¥´ê¸° ì´ë ¥</label>
                    <textarea class="form-control" name="allergy_history" id="allergy_history" rows="2" placeholder="ì•Œë ¤ì§„ ì•Œë ˆë¥´ê¸°ê°€ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="surgery_history">ìˆ˜ìˆ  ì´ë ¥</label>
                    <textarea class="form-control" name="surgery_history" id="surgery_history" rows="2" placeholder="ê³¼ê±° ìˆ˜ìˆ  ê²½í—˜ì´ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="family_history">ê°€ì¡±ë ¥</label>
                    <textarea class="form-control" name="family_history" id="family_history" rows="2" placeholder="ê°€ì¡± ì¤‘ íŠ¹ë³„í•œ ë³‘ë ¥ì´ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
        </div>

        <!-- IV. ìƒí™œ ìŠµê´€ -->
        <div class="section-card">
            <h3 class="section-title">
                <span>ğŸš­</span> IV. ìƒí™œ ìŠµê´€
            </h3>
            
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label">í¡ì—° ì—¬ë¶€</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="smoking_status" id="smoking_yes" value="í¡ì—°">
                            <label for="smoking_yes">í¡ì—°</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="smoking_status" id="smoking_no" value="ë¹„í¡ì—°">
                            <label for="smoking_no">ë¹„í¡ì—°</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="smoking_status" id="smoking_quit" value="ê¸ˆì—°">
                            <label for="smoking_quit">ê¸ˆì—°</label>
                        </div>
                    </div>
                </div>
                <div class="form-group half">
                    <label class="form-label" for="smoking_amount">í¡ì—°ëŸ‰ (í•´ë‹¹ì‹œ)</label>
                    <input type="text" class="form-control" name="smoking_amount" id="smoking_amount" placeholder="ì˜ˆ: í•˜ë£¨ 1ê°‘">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label">ìŒì£¼ ì—¬ë¶€</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="drinking_status" id="drinking_yes" value="ìŒì£¼">
                            <label for="drinking_yes">ìŒì£¼</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="drinking_status" id="drinking_no" value="ë¹„ìŒì£¼">
                            <label for="drinking_no">ë¹„ìŒì£¼</label>
                        </div>
                    </div>
                </div>
                <div class="form-group half">
                    <label class="form-label" for="drinking_amount">ìŒì£¼ëŸ‰ (í•´ë‹¹ì‹œ)</label>
                    <input type="text" class="form-control" name="drinking_amount" id="drinking_amount" placeholder="ì˜ˆ: ì£¼ 2-3íšŒ, ì†Œì£¼ 1ë³‘">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="exercise_habits">ìš´ë™ ìŠµê´€</label>
                    <textarea class="form-control" name="exercise_habits" id="exercise_habits" rows="2" placeholder="ê·œì¹™ì ìœ¼ë¡œ í•˜ëŠ” ìš´ë™ì´ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="sleep_hours">í‰ê·  ìˆ˜ë©´ì‹œê°„</label>
                    <select class="form-control" name="sleep_hours" id="sleep_hours">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="5ì‹œê°„ ë¯¸ë§Œ">5ì‹œê°„ ë¯¸ë§Œ</option>
                        <option value="5-6ì‹œê°„">5-6ì‹œê°„</option>
                        <option value="6-7ì‹œê°„">6-7ì‹œê°„</option>
                        <option value="7-8ì‹œê°„">7-8ì‹œê°„</option>
                        <option value="8-9ì‹œê°„">8-9ì‹œê°„</option>
                        <option value="9ì‹œê°„ ì´ìƒ">9ì‹œê°„ ì´ìƒ</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- V. ê¸°íƒ€ ì •ë³´ -->
        <div class="section-card">
            <h3 class="section-title">
                <span>ğŸ“</span> V. ê¸°íƒ€ ì •ë³´
            </h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="physical_limitations">ì‹ ì²´ì  ì œì•½ì‚¬í•­</label>
                    <textarea class="form-control" name="physical_limitations" id="physical_limitations" rows="2" placeholder="ì—…ë¬´ ìˆ˜í–‰ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” ì‹ ì²´ì  ì œì•½ì‚¬í•­ì´ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="emergency_contact">ë¹„ìƒì—°ë½ì²˜</label>
                    <input type="text" class="form-control" name="emergency_contact" id="emergency_contact" placeholder="ì‘ê¸‰ìƒí™© ì‹œ ì—°ë½í•  ì „í™”ë²ˆí˜¸">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="special_considerations">íŠ¹ë³„ ê³ ë ¤ì‚¬í•­</label>
                    <textarea class="form-control" name="special_considerations" id="special_considerations" rows="3" placeholder="ì—…ë¬´ ë°°ì¹˜ë‚˜ í™˜ê²½ ì¡°ì„± ì‹œ íŠ¹ë³„íˆ ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­ì´ ìˆìœ¼ë©´ ê¸°ì¬í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">
            <span>ğŸ“‹</span> ê±´ê°•ê²€ì§„í‘œ ì œì¶œ
        </button>
    </form>
</div>
{% endblock %}