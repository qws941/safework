<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè• Í±¥Í∞ï Í≤ÄÏßÑ ÏÑ§Î¨∏ÏßÄ - Ïö∞Î¶¨ Î™∏ÏùÑ Îçî ÏûêÏÑ∏Ìûà ÏïåÏïÑÎ¥êÏöî!</title>
    <style>
        /* Ìè∞Ìä∏ Î∞è Í∏∞Î≥∏ Ïä§ÌÉÄÏùº */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', 'ÎßëÏùÄÍ≥†Îîï', sans-serif;
            font-size: 18px;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Îã§ÌÅ¨Î™®Îìú ÌÜ†Í∏Ä */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            font-size: 16px;
            color: white;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        /* Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà */
        .survey-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        /* Ìó§Îçî */
        .survey-header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
        }

        .survey-header h1 {
            font-size: 32px;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .survey-header p {
            font-size: 20px;
            opacity: 0.9;
        }

        /* ÏßÑÌñâÎ•† Î∞î */
        .progress-container {
            background: white;
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
            position: relative;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 25px;
            height: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress-fill {
            background: linear-gradient(90deg, #ff6b6b 0%, #ee5a24 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 25px;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-text {
            text-align: center;
            color: #666;
            font-weight: bold;
            font-size: 18px;
        }

        .section-navigator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-dot.completed {
            background: #28a745;
            transform: scale(1.2);
        }

        .nav-dot.current {
            background: #ff6b6b;
            transform: scale(1.4);
        }

        /* Ìèº Ïª®ÌÖåÏù¥ÎÑà */
        .form-container {
            padding: 0;
        }

        /* ÏÑπÏÖò Ïπ¥Îìú */
        .section-card {
            margin: 0;
            border-bottom: 3px solid #f0f0f0;
            padding: 40px 30px;
            transition: all 0.3s ease;
            background: white;
            position: relative;
        }

        .section-card:last-child {
            border-bottom: none;
        }

        .section-card:hover {
            background: #fafafa;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .section-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(180deg, #ff6b6b, #ee5a24);
            transition: all 0.3s ease;
        }

        /* ÏÑπÏÖò Ïª¨Îü¨ ÏΩîÎî© */
        .section-card[data-section="basic_info"]::before { background: linear-gradient(180deg, #4facfe, #00f2fe); }
        .section-card[data-section="work_info"]::before { background: linear-gradient(180deg, #43e97b, #38f9d7); }
        .section-card[data-section*="pain_"]::before { background: linear-gradient(180deg, #ff6b6b, #ee5a24); }

        /* ÏÑπÏÖò Ìó§Îçî */
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #f0f0f0;
            position: relative;
        }

        .section-icon {
            font-size: 56px;
            margin-right: 20px;
            animation: pulse 3s infinite;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }

        .section-title {
            font-size: 28px;
            font-weight: bold;
            color: #333;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .section-subtitle {
            font-size: 18px;
            color: #666;
            margin-top: 5px;
            font-weight: normal;
        }

        /* Ïï†ÎãàÎ©îÏù¥ÏÖò */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* ÌïÑÎìú Í∑∏Î£π */
        .field-group {
            margin-bottom: 25px;
            padding: 25px;
            border-radius: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 6px solid #007bff;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .field-group::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%) translateY(-100%) rotate(45deg);
            transition: all 0.6s ease;
        }

        .field-group:hover::before {
            transform: translateX(100%) translateY(100%) rotate(45deg);
        }

        .field-group:hover {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-left-color: #2196f3;
            transform: translateX(8px);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.15);
        }

        /* Î†àÏù¥Î∏î */
        .field-label {
            display: block;
            margin-bottom: 15px;
            font-weight: bold;
            font-size: 20px;
            color: #333;
            position: relative;
            z-index: 1;
        }

        .required::after {
            content: " ‚≠ê";
            color: #ff4444;
            animation: twinkle 1.5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::before {
            content: "üí°";
            margin-left: 8px;
            animation: glow 2s infinite;
        }

        @keyframes glow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.5); }
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            top: -50px;
            left: 0;
            background: linear-gradient(135deg, #333, #555);
            color: white;
            padding: 10px 15px;
            border-radius: 12px;
            font-size: 16px;
            white-space: nowrap;
            z-index: 1000;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            animation: tooltipFadeIn 0.3s ease;
        }

        @keyframes tooltipFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ÏûÖÎ†• ÌïÑÎìú */
        .form-control {
            width: 100%;
            padding: 18px 24px;
            border: 3px solid #e0e0e0;
            border-radius: 20px;
            font-size: 18px;
            transition: all 0.4s ease;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            position: relative;
            z-index: 1;
        }

        .form-control:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
            outline: none;
            transform: scale(1.02);
            background: linear-gradient(135deg, #fff, #fef7f7);
        }

        .form-control:invalid {
            border-color: #ff6b6b;
            background: #fff5f5;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* ÏÑ†ÌÉù Î∞ïÏä§ */
        .select-container {
            position: relative;
        }

        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' fill='%23ff6b6b' viewBox='0 0 24 24'><path d='M7 10l5 5 5-5z'/></svg>");
            background-repeat: no-repeat;
            background-position: right 20px center;
            background-size: 24px;
            cursor: pointer;
            padding-right: 60px;
        }

        select.form-control:focus {
            background-image: url("data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 24 24'><path d='M7 14l5-5 5 5z'/></svg>");
        }

        /* ÌÜµÏ¶ù ÌèâÍ∞Ä ÏÑπÏÖò */
        .pain-section {
            background: linear-gradient(135deg, #ffe8e8 0%, #ffcdd2 100%);
        }

        .pain-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .body-part {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.1);
            border-left: 8px solid #ff6b6b;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .body-part::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,107,107,0.1) 0%, transparent 70%);
            transition: all 0.5s ease;
        }

        .body-part:hover::before {
            transform: scale(1.5);
        }

        .body-part:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(255, 107, 107, 0.2);
        }

        .body-part-title {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 25px;
            color: #333;
            display: flex;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .body-icon {
            font-size: 40px;
            margin-right: 15px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        /* ÌÜµÏ¶ù ÏßàÎ¨∏ Í∑∏Î£π */
        .pain-questions {
            display: grid;
            gap: 20px;
        }

        .pain-question {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #17a2b8;
            transition: all 0.3s ease;
        }

        .pain-question:hover {
            background: #e3f7fa;
            border-left-color: #00bcd4;
            transform: translateX(5px);
        }

        .question-label {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 12px;
            color: #333;
            display: flex;
            align-items: center;
        }

        .question-number {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            margin-right: 12px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        /* ÌÜµÏ¶ù ÏÑ†ÌÉù ÏòµÏÖò */
        .pain-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .pain-option {
            position: relative;
        }

        .pain-option input[type="radio"] {
            display: none;
        }

        .pain-option label {
            display: block;
            padding: 15px;
            text-align: center;
            background: white;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .pain-option label::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255,107,107,0.1) 0%, transparent 70%);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .pain-option:hover label {
            border-color: #ff6b6b;
            background: #fef7f7;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.15);
        }

        .pain-option:hover label::before {
            width: 200px;
            height: 200px;
        }

        .pain-option input[type="radio"]:checked + label {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border-color: #ff6b6b;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        /* Ïù¥Î™®ÏßÄ Í∏∞Î∞ò ÌÜµÏ¶ù Ï≤ôÎèÑ */
        .emoji-scale {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 20px;
            border: 2px dashed #dee2e6;
        }

        .emoji-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 15px;
            border-radius: 15px;
            transition: all 0.3s ease;
            position: relative;
        }

        .emoji-option:hover {
            background: rgba(255, 107, 107, 0.1);
            transform: translateY(-5px);
        }

        .emoji-face {
            font-size: 48px;
            margin-bottom: 8px;
            transition: all 0.3s ease;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }

        .emoji-option:hover .emoji-face {
            transform: scale(1.2);
        }

        .emoji-option.selected .emoji-face {
            transform: scale(1.3);
            filter: drop-shadow(0 6px 15px rgba(255,107,107,0.4));
        }

        .emoji-text {
            font-size: 14px;
            font-weight: bold;
            color: #666;
            text-align: center;
        }

        .emoji-option.selected .emoji-text {
            color: #ff6b6b;
        }

        /* Î≤ÑÌäº Ïä§ÌÉÄÏùº */
        .btn {
            padding: 18px 35px;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transition: all 0.6s ease;
            transform: translate(-50%, -50%);
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(86, 171, 47, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(86, 171, 47, 0.4);
        }

        /* Ïï°ÏÖò Î≤ÑÌäºÎì§ */
        .form-actions {
            padding: 40px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            border-top: 3px solid #dee2e6;
        }

        .auto-save-status {
            color: #28a745;
            font-weight: bold;
            display: flex;
            align-items: center;
            font-size: 16px;
            animation: fadeIn 0.5s ease;
        }

        .auto-save-status::before {
            content: "üíæ ";
            margin-right: 8px;
            font-size: 20px;
        }

        /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
        @media (max-width: 768px) {
            body {
                font-size: 16px;
                padding: 10px;
            }

            .survey-header h1 {
                font-size: 26px;
            }

            .section-icon {
                font-size: 40px;
            }

            .section-title {
                font-size: 22px;
            }

            .field-label {
                font-size: 18px;
            }

            .form-control {
                padding: 15px 20px;
                font-size: 16px;
            }

            .pain-options {
                grid-template-columns: 1fr;
            }

            .emoji-scale {
                flex-direction: column;
                gap: 15px;
            }

            .emoji-face {
                font-size: 36px;
            }

            .form-actions {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
        }

        /* ÌéòÏù¥Îìú Ïù∏ Ïï†ÎãàÎ©îÏù¥ÏÖò */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-card {
            animation: fadeIn 0.8s ease forwards;
        }

        /* Îã§ÌÅ¨ Î™®Îìú */
        .dark-mode {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
        }

        .dark-mode .survey-container {
            background: rgba(44, 62, 80, 0.95);
            color: #ecf0f1;
        }

        .dark-mode .section-card {
            background: #34495e;
            color: #ecf0f1;
        }

        .dark-mode .section-card:hover {
            background: #3c5a78;
        }

        .dark-mode .form-control {
            background: #2c3e50;
            color: #ecf0f1;
            border-color: #34495e;
        }

        .dark-mode .field-group {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-left-color: #3498db;
        }

        .dark-mode .body-part {
            background: #34495e;
            color: #ecf0f1;
        }

        .dark-mode .pain-question {
            background: #2c3e50;
            color: #ecf0f1;
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">üåô Îã§ÌÅ¨Î™®Îìú</button>

    <div class="survey-container">
        <!-- Ìó§Îçî -->
        <div class="survey-header">
            <h1>üè• Í±¥Í∞ï Í≤ÄÏßÑ ÏÑ§Î¨∏ÏßÄ</h1>
            <p>Ïö∞Î¶¨ Î™∏ÏùÑ Îçî ÏûêÏÑ∏Ìûà ÏïåÏïÑÎ¥êÏöî! Í∞Å ÏßàÎ¨∏Ïóê Ï≤úÏ≤úÌûà ÎãµÌï¥Ï£ºÏÑ∏Ïöî üòä</p>
        </div>

        <!-- ÏßÑÌñâÎ•† Î∞î -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">ÏãúÏûëÌïòÍ∏∞ (0%)</div>
            <div class="section-navigator" id="sectionNavigator"></div>
        </div>

        <!-- ÏÑ§Î¨∏ Ìèº -->
        <form id="surveyForm" class="form-container" action="{{ url_for('survey.submit_survey', form_id='002_musculoskeletal_symptom_program') }}" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

            <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏÑπÏÖò -->
            <div class="section-card" data-section="basic_info">
                <div class="section-header">
                    <div class="section-icon">üë§</div>
                    <div>
                        <div class="section-title">Í∏∞Î≥∏ Ï†ïÎ≥¥</div>
                        <div class="section-subtitle">Î≥∏Ïù∏Ïùò Í∏∞Î≥∏ Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="field-group">
                    <label class="field-label required tooltip" data-tooltip="ÏÑ§Î¨∏ÏßÄ Î≤àÌò∏ÏûÖÎãàÎã§">
                        Î≤àÌò∏
                    </label>
                    <input type="number" name="number" class="form-control" placeholder="1" min="1" required>
                </div>

                <div class="field-group">
                    <label class="field-label required">
                        Ïù¥Î¶Ñ
                    </label>
                    <input type="text" name="name" class="form-control" placeholder="ÌôçÍ∏∏Îèô" required>
                </div>

                <div class="field-group">
                    <label class="field-label required tooltip" data-tooltip="ÌòÑÏû¨ ÎÇòÏù¥Î•º Ïà´ÏûêÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        ÎÇòÏù¥
                    </label>
                    <input type="number" name="age" class="form-control" placeholder="30" min="18" max="100" required>
                </div>

                <div class="field-group">
                    <label class="field-label required">
                        ÏÑ±Î≥Ñ
                    </label>
                    <div class="select-container">
                        <select name="gender" class="form-control" required>
                            <option value="">ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</option>
                            <option value="ÎÇ®">üë® ÎÇ®ÏÑ±</option>
                            <option value="Ïó¨">üë© Ïó¨ÏÑ±</option>
                        </select>
                    </div>
                </div>

                <div class="field-group">
                    <label class="field-label required tooltip" data-tooltip="ÌòÑÏû¨ ÏßÅÏû•ÏóêÏÑú ÏùºÌïú Í∏∞Í∞ÑÏùÑ ÎÖÑ Îã®ÏúÑÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        ÌòÑÏû¨ ÏßÅÏû• Í≤ΩÎ†• (ÎÖÑ)
                    </label>
                    <input type="number" name="work_experience" class="form-control" placeholder="5" min="0" max="50" step="0.5" required>
                </div>

                <div class="field-group">
                    <label class="field-label">
                        Í≤∞Ìòº Ïó¨Î∂Ä
                    </label>
                    <div class="select-container">
                        <select name="married" class="form-control">
                            <option value="">ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</option>
                            <option value="Í∏∞Ìòº">üíë Í∏∞Ìòº</option>
                            <option value="ÎØ∏Ìòº">üôã ÎØ∏Ìòº</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ÏûëÏóÖ Ï†ïÎ≥¥ ÏÑπÏÖò -->
            <div class="section-card" data-section="work_info">
                <div class="section-header">
                    <div class="section-icon">üíº</div>
                    <div>
                        <div class="section-title">ÏûëÏóÖ Ï†ïÎ≥¥</div>
                        <div class="section-subtitle">ÌòÑÏû¨ ÌïòÍ≥† Í≥ÑÏãúÎäî ÏùºÏóê ÎåÄÌï¥ ÏïåÎ†§Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="field-group">
                    <label class="field-label required tooltip" data-tooltip="ÏÜåÏÜç Î∂ÄÏÑúÎÇò ÌåÄÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        ÏûëÏóÖ Î∂ÄÏÑú
                    </label>
                    <input type="text" name="department" class="form-control" placeholder="ÏÉùÏÇ∞Î∂Ä, ÌíàÏßàÍ¥ÄÎ¶¨ÌåÄ" required>
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="ÏÉùÏÇ∞ÎùºÏù∏Ïù¥ÎÇò ÏûëÏóÖÎùºÏù∏Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        ÎùºÏù∏
                    </label>
                    <input type="text" name="line" class="form-control" placeholder="AÎùºÏù∏, 1Ìò∏Í∏∞">
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="Îã¥ÎãπÌïòÍ≥† ÏûàÎäî ÏûëÏóÖÏùò Ï¢ÖÎ•òÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        ÏûëÏóÖ Ï¢ÖÎ•ò
                    </label>
                    <input type="text" name="work_type" class="form-control" placeholder="Ï°∞Î¶ΩÏûëÏóÖ, Í≤ÄÏÇ¨ÏóÖÎ¨¥">
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="ÌòÑÏû¨ ÌïòÍ≥† Í≥ÑÏãúÎäî Íµ¨Ï≤¥Ï†ÅÏù∏ ÏûëÏóÖ ÎÇ¥Ïö©ÏùÑ ÏÑ§Î™ÖÌï¥Ï£ºÏÑ∏Ïöî">
                        ÏûëÏóÖ ÎÇ¥Ïö© (ÏûêÏÑ∏Ìûà)
                    </label>
                    <textarea name="work_content" class="form-control" rows="4" placeholder="Ïòà: Ïª®Î≤†Ïù¥Ïñ¥ Î≤®Ìä∏ÏóêÏÑú Î∂ÄÌíàÏùÑ Ï°∞Î¶ΩÌïòÍ≥†, ÌïòÎ£®Ïóê 200Í∞ú Ï†ïÎèÑ Ï†úÏûëÌï©ÎãàÎã§. Ï£ºÎ°ú ÏÑúÏÑú ÏùºÌïòÎ©∞, ÏÜêÎ™©Í≥º Ïñ¥Íπ®Î•º ÎßéÏù¥ ÏÇ¨Ïö©Ìï©ÎãàÎã§."></textarea>
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="Ìï¥Îãπ ÏûëÏóÖÏùÑ ÏãúÏûëÌïú ÏãúÍ∏∞Î∂ÄÌÑ∞ ÏßÄÍ∏àÍπåÏßÄÏùò Í∏∞Í∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        ÏûëÏóÖ Í∏∞Í∞Ñ
                    </label>
                    <input type="text" name="work_period" class="form-control" placeholder="2ÎÖÑ 3Í∞úÏõî, 1.5ÎÖÑ">
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="ÌòÑÏû¨ ÏûëÏóÖÏùÑ ÎÖÑ Îã®ÏúÑÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        ÌòÑÏû¨ ÏûëÏóÖ Í∏∞Í∞Ñ (ÎÖÑ)
                    </label>
                    <input type="number" name="current_work_period" class="form-control" placeholder="2.5" min="0" max="50" step="0.1">
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="Ï†êÏã¨ÏãúÍ∞ÑÏùÑ Ìè¨Ìï®Ìïú Ï¥ù Í∑ºÎ¨¥ÏãúÍ∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        1Ïùº Í∑ºÎ¨¥ÏãúÍ∞Ñ
                    </label>
                    <input type="number" name="daily_work_hours" class="form-control" placeholder="8" min="1" max="24" step="0.5">
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="Ï†êÏã¨ÏãúÍ∞Ñ, Ìú¥Í≤åÏãúÍ∞ÑÏùò Ï¥ùÌï©ÏùÑ ÏãúÍ∞Ñ Îã®ÏúÑÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        Ìú¥ÏãùÏãúÍ∞Ñ (ÏãúÍ∞Ñ)
                    </label>
                    <input type="number" name="rest_time" class="form-control" placeholder="1" min="0" max="8" step="0.1">
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="ÌòÑÏû¨ ÏûëÏóÖ Ïù¥Ï†ÑÏóê ÌñàÎçò ÏùºÏù¥ ÏûàÎã§Î©¥ ÏÑ§Î™ÖÌï¥Ï£ºÏÑ∏Ïöî">
                        Ïù¥Ï†Ñ ÏûëÏóÖ ÎÇ¥Ïö©
                    </label>
                    <textarea name="previous_work_content" class="form-control" rows="3" placeholder="Ïòà: Ìè¨Ïû• ÏûëÏóÖÏùÑ ÌñàÏäµÎãàÎã§. Î∞ïÏä§Î•º Îì§Í≥† ÎÇòÎ•¥Îäî ÏùºÏù¥ ÎßéÏïòÏäµÎãàÎã§."></textarea>
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="Ïù¥Ï†Ñ ÏûëÏóÖÏùÑ Ìïú Í∏∞Í∞ÑÏùÑ ÎÖÑ Îã®ÏúÑÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî">
                        Ïù¥Ï†Ñ ÏûëÏóÖ Í∏∞Í∞Ñ (ÎÖÑ)
                    </label>
                    <input type="number" name="previous_work_period" class="form-control" placeholder="1.5" min="0" max="50" step="0.1">
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="Ï∑®ÎØ∏ÎÇò Ïó¨Í∞Ä ÌôúÎèôÏóê ÎåÄÌï¥ ÏûêÏú†Î°≠Í≤å Ï†ÅÏñ¥Ï£ºÏÑ∏Ïöî">
                        Ïó¨Í∞Ä Î∞è Ï∑®ÎØ∏ ÌôúÎèô
                    </label>
                    <textarea name="leisure_activity" class="form-control" rows="3" placeholder="Ïòà: Ï£ºÎßêÏóê Îì±ÏÇ∞ÏùÑ ÌïòÍ≥†, ÌèâÏùº Ï†ÄÎÖÅÏóêÎäî Ìó¨Ïä§Ïû•ÏóêÏÑú Ïö¥ÎèôÏùÑ Ìï©ÎãàÎã§."></textarea>
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="ÏßëÏïàÏùºÏùÑ ÌïòÎäî ÏãúÍ∞ÑÍ≥º Ï¢ÖÎ•òÎ•º Ï†ÅÏñ¥Ï£ºÏÑ∏Ïöî">
                        ÌïòÎ£® Í∞ÄÏÇ¨ÎÖ∏Îèô
                    </label>
                    <textarea name="household_work" class="form-control" rows="3" placeholder="Ïòà: ÌïòÎ£®Ïóê 2ÏãúÍ∞Ñ Ï†ïÎèÑ ÏöîÎ¶¨, Ï≤≠ÏÜå, Îπ®ÎûòÎ•º Ìï©ÎãàÎã§."></textarea>
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="ÏùòÏÇ¨Î°úÎ∂ÄÌÑ∞ ÏßÑÎã®Î∞õÏùÄ ÏßàÎ≥ëÏù¥ÎÇò Ï¶ùÏÉÅÏù¥ ÏûàÎã§Î©¥ Ï†ÅÏñ¥Ï£ºÏÑ∏Ïöî">
                        ÏùòÏÇ¨ ÏßÑÎã®
                    </label>
                    <textarea name="medical_diagnosis" class="form-control" rows="3" placeholder="Ïòà: Î™© ÎîîÏä§ÌÅ¨ (2023ÎÖÑ ÏßÑÎã®), ÌòÑÏû¨ Î¨ºÎ¶¨ÏπòÎ£å Ï§ë"></textarea>
                </div>

                <div class="field-group">
                    <label class="field-label tooltip" data-tooltip="ÌòÑÏû¨ ÏûëÏóÖÏùò Ïú°Ï≤¥Ï†Å Î∂ÄÎã¥ Ï†ïÎèÑÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî">
                        Ïú°Ï≤¥Ï†Å Î∂ÄÎã¥ Ï†ïÎèÑ
                    </label>
                    <div class="emoji-scale">
                        <div class="emoji-option" data-value="Îß§Ïö∞ Í∞ÄÎ≤ºÏõÄ">
                            <div class="emoji-face">üòä</div>
                            <div class="emoji-text">Îß§Ïö∞<br>Í∞ÄÎ≤ºÏõÄ</div>
                        </div>
                        <div class="emoji-option" data-value="Í∞ÄÎ≤ºÏõÄ">
                            <div class="emoji-face">üôÇ</div>
                            <div class="emoji-text">Í∞ÄÎ≤ºÏõÄ</div>
                        </div>
                        <div class="emoji-option" data-value="Î≥¥ÌÜµ">
                            <div class="emoji-face">üòê</div>
                            <div class="emoji-text">Î≥¥ÌÜµ</div>
                        </div>
                        <div class="emoji-option" data-value="Î¨¥Í±∞ÏõÄ">
                            <div class="emoji-face">üòü</div>
                            <div class="emoji-text">Î¨¥Í±∞ÏõÄ</div>
                        </div>
                        <div class="emoji-option" data-value="Îß§Ïö∞ Î¨¥Í±∞ÏõÄ">
                            <div class="emoji-face">üò∞</div>
                            <div class="emoji-text">Îß§Ïö∞<br>Î¨¥Í±∞ÏõÄ</div>
                        </div>
                    </div>
                    <input type="hidden" name="physical_burden" id="physical_burden">
                </div>
            </div>

            <!-- Î™© Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä -->
            <div class="section-card pain-section" data-section="pain_Î™©">
                <div class="section-header">
                    <div class="section-icon">ü¶í</div>
                    <div>
                        <div class="section-title">Î™© Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä</div>
                        <div class="section-subtitle">Î™©Í≥º Í¥ÄÎ†®Îêú Ï¶ùÏÉÅÏóê ÎåÄÌï¥ ÎãµÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="body-part">
                    <div class="pain-questions">
                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">1</div>
                                Î™© Î∂ÄÏúÑÏóê ÌÜµÏ¶ùÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_1" value="ÏóÜÏùå" id="neck_1_none">
                                    <label for="neck_1_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_1" value="ÏûàÏùå" id="neck_1_yes">
                                    <label for="neck_1_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">2</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò Ïò§Îûò ÏßÄÏÜçÎêòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_2" value="ÏóÜÏùå" id="neck_2_none">
                                    <label for="neck_2_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_2" value="1Ï£ºÏùº ÎØ∏Îßå" id="neck_2_week">
                                    <label for="neck_2_week">üìÖ 1Ï£ºÏùº ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_2" value="1Ï£ºÏùº Ïù¥ÏÉÅ ÏßÄÏÜç" id="neck_2_long">
                                    <label for="neck_2_long">üìÖ 1Ï£ºÏùº Ïù¥ÏÉÅ</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">3</div>
                                ÌÜµÏ¶ùÏùò Í∞ïÎèÑÎäî Ïñ¥Îäê Ï†ïÎèÑÏù∏Í∞ÄÏöî?
                            </div>
                            <div class="emoji-scale">
                                <div class="emoji-option" data-name="Î™©_3" data-value="ÏóÜÏùå">
                                    <div class="emoji-face">üòä</div>
                                    <div class="emoji-text">ÏóÜÏùå</div>
                                </div>
                                <div class="emoji-option" data-name="Î™©_3" data-value="ÏïΩÌïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üôÇ</div>
                                    <div class="emoji-text">ÏïΩÌï®</div>
                                </div>
                                <div class="emoji-option" data-name="Î™©_3" data-value="Ï§ëÍ∞Ñ Ï†ïÎèÑ">
                                    <div class="emoji-face">üòê</div>
                                    <div class="emoji-text">Î≥¥ÌÜµ</div>
                                </div>
                                <div class="emoji-option" data-name="Î™©_3" data-value="Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò¢</div>
                                    <div class="emoji-text">Ïã¨Ìï®</div>
                                </div>
                                <div class="emoji-option" data-name="Î™©_3" data-value="Îß§Ïö∞ Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò≠</div>
                                    <div class="emoji-text">Îß§Ïö∞Ïã¨Ìï®</div>
                                </div>
                            </div>
                            <input type="hidden" name="Î™©_3" id="Î™©_3">
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">4</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò ÏûêÏ£º Î∞úÏÉùÌïòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_4" value="ÏóÜÏùå" id="neck_4_none">
                                    <label for="neck_4_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_4" value="1Îã¨Ïóê 1Ìöå ÎØ∏Îßå" id="neck_4_month">
                                    <label for="neck_4_month">üìÖ ÌïúÎã¨Ïóê 1Ìöå ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_4" value="1Îã¨Ïóê 1-3Ìöå" id="neck_4_month3">
                                    <label for="neck_4_month3">üìÖ ÌïúÎã¨Ïóê 1-3Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_4" value="1Ï£ºÏùºÏóê 1-2Ìöå" id="neck_4_week2">
                                    <label for="neck_4_week2">üìÖ ÏùºÏ£ºÏùºÏóê 1-2Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_4" value="Îß§Ïùº" id="neck_4_daily">
                                    <label for="neck_4_daily">üìÖ Îß§Ïùº</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">5</div>
                                Ï¶ùÏÉÅÏù¥ Ï†êÏ†ê Ïã¨Ìï¥ÏßÄÍ≥† ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_5" value="ÏïÑÎãàÏò§" id="neck_5_no">
                                    <label for="neck_5_no">üëç ÏïÑÎãàÏöî</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_5" value="Ïòà" id="neck_5_yes">
                                    <label for="neck_5_yes">üëé Ïòà</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">6</div>
                                Í∏∞ÌÉÄ Ï¶ùÏÉÅÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_6" value="ÏóÜÏùå" id="neck_6_none">
                                    <label for="neck_6_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Î™©_6" value="ÏûàÏùå" id="neck_6_yes">
                                    <label for="neck_6_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ïñ¥Íπ® Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä -->
            <div class="section-card pain-section" data-section="pain_Ïñ¥Íπ®">
                <div class="section-header">
                    <div class="section-icon">üí™</div>
                    <div>
                        <div class="section-title">Ïñ¥Íπ® Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä</div>
                        <div class="section-subtitle">Ïñ¥Íπ®ÏôÄ Í¥ÄÎ†®Îêú Ï¶ùÏÉÅÏóê ÎåÄÌï¥ ÎãµÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="body-part">
                    <div class="pain-questions">
                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">1</div>
                                Ïñ¥Íπ® Î∂ÄÏúÑÏóê ÌÜµÏ¶ùÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_1" value="ÏóÜÏùå" id="shoulder_1_none">
                                    <label for="shoulder_1_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_1" value="ÏûàÏùå" id="shoulder_1_yes">
                                    <label for="shoulder_1_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">2</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò Ïò§Îûò ÏßÄÏÜçÎêòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_2" value="ÏóÜÏùå" id="shoulder_2_none">
                                    <label for="shoulder_2_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_2" value="1Ï£ºÏùº ÎØ∏Îßå" id="shoulder_2_week">
                                    <label for="shoulder_2_week">üìÖ 1Ï£ºÏùº ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_2" value="1Ï£ºÏùº Ïù¥ÏÉÅ ÏßÄÏÜç" id="shoulder_2_long">
                                    <label for="shoulder_2_long">üìÖ 1Ï£ºÏùº Ïù¥ÏÉÅ</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">3</div>
                                ÌÜµÏ¶ùÏùò Í∞ïÎèÑÎäî Ïñ¥Îäê Ï†ïÎèÑÏù∏Í∞ÄÏöî?
                            </div>
                            <div class="emoji-scale">
                                <div class="emoji-option" data-name="Ïñ¥Íπ®_3" data-value="ÏóÜÏùå">
                                    <div class="emoji-face">üòä</div>
                                    <div class="emoji-text">ÏóÜÏùå</div>
                                </div>
                                <div class="emoji-option" data-name="Ïñ¥Íπ®_3" data-value="ÏïΩÌïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üôÇ</div>
                                    <div class="emoji-text">ÏïΩÌï®</div>
                                </div>
                                <div class="emoji-option" data-name="Ïñ¥Íπ®_3" data-value="Ï§ëÍ∞Ñ Ï†ïÎèÑ">
                                    <div class="emoji-face">üòê</div>
                                    <div class="emoji-text">Î≥¥ÌÜµ</div>
                                </div>
                                <div class="emoji-option" data-name="Ïñ¥Íπ®_3" data-value="Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò¢</div>
                                    <div class="emoji-text">Ïã¨Ìï®</div>
                                </div>
                                <div class="emoji-option" data-name="Ïñ¥Íπ®_3" data-value="Îß§Ïö∞ Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò≠</div>
                                    <div class="emoji-text">Îß§Ïö∞Ïã¨Ìï®</div>
                                </div>
                            </div>
                            <input type="hidden" name="Ïñ¥Íπ®_3" id="Ïñ¥Íπ®_3">
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">4</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò ÏûêÏ£º Î∞úÏÉùÌïòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_4" value="ÏóÜÏùå" id="shoulder_4_none">
                                    <label for="shoulder_4_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_4" value="1Îã¨Ïóê 1Ìöå ÎØ∏Îßå" id="shoulder_4_month">
                                    <label for="shoulder_4_month">üìÖ ÌïúÎã¨Ïóê 1Ìöå ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_4" value="1Îã¨Ïóê 1-3Ìöå" id="shoulder_4_month3">
                                    <label for="shoulder_4_month3">üìÖ ÌïúÎã¨Ïóê 1-3Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_4" value="1Ï£ºÏùºÏóê 1-2Ìöå" id="shoulder_4_week2">
                                    <label for="shoulder_4_week2">üìÖ ÏùºÏ£ºÏùºÏóê 1-2Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_4" value="Îß§Ïùº" id="shoulder_4_daily">
                                    <label for="shoulder_4_daily">üìÖ Îß§Ïùº</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">5</div>
                                Ï¶ùÏÉÅÏù¥ Ï†êÏ†ê Ïã¨Ìï¥ÏßÄÍ≥† ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_5" value="ÏïÑÎãàÏò§" id="shoulder_5_no">
                                    <label for="shoulder_5_no">üëç ÏïÑÎãàÏöî</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_5" value="Ïòà" id="shoulder_5_yes">
                                    <label for="shoulder_5_yes">üëé Ïòà</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">6</div>
                                Í∏∞ÌÉÄ Ï¶ùÏÉÅÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_6" value="ÏóÜÏùå" id="shoulder_6_none">
                                    <label for="shoulder_6_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Ïñ¥Íπ®_6" value="ÏûàÏùå" id="shoulder_6_yes">
                                    <label for="shoulder_6_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÌåîÍøàÏπò Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä -->
            <div class="section-card pain-section" data-section="pain_ÌåîÍøàÏπò">
                <div class="section-header">
                    <div class="section-icon">ü¶æ</div>
                    <div>
                        <div class="section-title">ÌåîÍøàÏπò Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä</div>
                        <div class="section-subtitle">ÌåîÍøàÏπòÏôÄ Í¥ÄÎ†®Îêú Ï¶ùÏÉÅÏóê ÎåÄÌï¥ ÎãµÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="body-part">
                    <div class="pain-questions">
                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">1</div>
                                ÌåîÍøàÏπò Î∂ÄÏúÑÏóê ÌÜµÏ¶ùÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_1" value="ÏóÜÏùå" id="elbow_1_none">
                                    <label for="elbow_1_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_1" value="ÏûàÏùå" id="elbow_1_yes">
                                    <label for="elbow_1_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">2</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò Ïò§Îûò ÏßÄÏÜçÎêòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_2" value="ÏóÜÏùå" id="elbow_2_none">
                                    <label for="elbow_2_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_2" value="1Ï£ºÏùº ÎØ∏Îßå" id="elbow_2_week">
                                    <label for="elbow_2_week">üìÖ 1Ï£ºÏùº ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_2" value="1Ï£ºÏùº Ïù¥ÏÉÅ ÏßÄÏÜç" id="elbow_2_long">
                                    <label for="elbow_2_long">üìÖ 1Ï£ºÏùº Ïù¥ÏÉÅ</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">3</div>
                                ÌÜµÏ¶ùÏùò Í∞ïÎèÑÎäî Ïñ¥Îäê Ï†ïÎèÑÏù∏Í∞ÄÏöî?
                            </div>
                            <div class="emoji-scale">
                                <div class="emoji-option" data-name="ÌåîÍøàÏπò_3" data-value="ÏóÜÏùå">
                                    <div class="emoji-face">üòä</div>
                                    <div class="emoji-text">ÏóÜÏùå</div>
                                </div>
                                <div class="emoji-option" data-name="ÌåîÍøàÏπò_3" data-value="ÏïΩÌïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üôÇ</div>
                                    <div class="emoji-text">ÏïΩÌï®</div>
                                </div>
                                <div class="emoji-option" data-name="ÌåîÍøàÏπò_3" data-value="Ï§ëÍ∞Ñ Ï†ïÎèÑ">
                                    <div class="emoji-face">üòê</div>
                                    <div class="emoji-text">Î≥¥ÌÜµ</div>
                                </div>
                                <div class="emoji-option" data-name="ÌåîÍøàÏπò_3" data-value="Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò¢</div>
                                    <div class="emoji-text">Ïã¨Ìï®</div>
                                </div>
                                <div class="emoji-option" data-name="ÌåîÍøàÏπò_3" data-value="Îß§Ïö∞ Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò≠</div>
                                    <div class="emoji-text">Îß§Ïö∞Ïã¨Ìï®</div>
                                </div>
                            </div>
                            <input type="hidden" name="ÌåîÍøàÏπò_3" id="ÌåîÍøàÏπò_3">
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">4</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò ÏûêÏ£º Î∞úÏÉùÌïòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_4" value="ÏóÜÏùå" id="elbow_4_none">
                                    <label for="elbow_4_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_4" value="1Îã¨Ïóê 1Ìöå ÎØ∏Îßå" id="elbow_4_month">
                                    <label for="elbow_4_month">üìÖ ÌïúÎã¨Ïóê 1Ìöå ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_4" value="1Îã¨Ïóê 1-3Ìöå" id="elbow_4_month3">
                                    <label for="elbow_4_month3">üìÖ ÌïúÎã¨Ïóê 1-3Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_4" value="1Ï£ºÏùºÏóê 1-2Ìöå" id="elbow_4_week2">
                                    <label for="elbow_4_week2">üìÖ ÏùºÏ£ºÏùºÏóê 1-2Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_4" value="Îß§Ïùº" id="elbow_4_daily">
                                    <label for="elbow_4_daily">üìÖ Îß§Ïùº</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">5</div>
                                Ï¶ùÏÉÅÏù¥ Ï†êÏ†ê Ïã¨Ìï¥ÏßÄÍ≥† ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_5" value="ÏïÑÎãàÏò§" id="elbow_5_no">
                                    <label for="elbow_5_no">üëç ÏïÑÎãàÏöî</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_5" value="Ïòà" id="elbow_5_yes">
                                    <label for="elbow_5_yes">üëé Ïòà</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">6</div>
                                Í∏∞ÌÉÄ Ï¶ùÏÉÅÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_6" value="ÏóÜÏùå" id="elbow_6_none">
                                    <label for="elbow_6_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌåîÍøàÏπò_6" value="ÏûàÏùå" id="elbow_6_yes">
                                    <label for="elbow_6_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÏÜêÎ™© Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä -->
            <div class="section-card pain-section" data-section="pain_ÏÜêÎ™©">
                <div class="section-header">
                    <div class="section-icon">üëã</div>
                    <div>
                        <div class="section-title">ÏÜêÎ™© Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä</div>
                        <div class="section-subtitle">ÏÜêÎ™©Í≥º Í¥ÄÎ†®Îêú Ï¶ùÏÉÅÏóê ÎåÄÌï¥ ÎãµÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="body-part">
                    <div class="pain-questions">
                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">1</div>
                                ÏÜêÎ™© Î∂ÄÏúÑÏóê ÌÜµÏ¶ùÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_1" value="ÏóÜÏùå" id="wrist_1_none">
                                    <label for="wrist_1_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_1" value="ÏûàÏùå" id="wrist_1_yes">
                                    <label for="wrist_1_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">2</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò Ïò§Îûò ÏßÄÏÜçÎêòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_2" value="ÏóÜÏùå" id="wrist_2_none">
                                    <label for="wrist_2_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_2" value="1Ï£ºÏùº ÎØ∏Îßå" id="wrist_2_week">
                                    <label for="wrist_2_week">üìÖ 1Ï£ºÏùº ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_2" value="1Ï£ºÏùº Ïù¥ÏÉÅ ÏßÄÏÜç" id="wrist_2_long">
                                    <label for="wrist_2_long">üìÖ 1Ï£ºÏùº Ïù¥ÏÉÅ</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">3</div>
                                ÌÜµÏ¶ùÏùò Í∞ïÎèÑÎäî Ïñ¥Îäê Ï†ïÎèÑÏù∏Í∞ÄÏöî?
                            </div>
                            <div class="emoji-scale">
                                <div class="emoji-option" data-name="ÏÜêÎ™©_3" data-value="ÏóÜÏùå">
                                    <div class="emoji-face">üòä</div>
                                    <div class="emoji-text">ÏóÜÏùå</div>
                                </div>
                                <div class="emoji-option" data-name="ÏÜêÎ™©_3" data-value="ÏïΩÌïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üôÇ</div>
                                    <div class="emoji-text">ÏïΩÌï®</div>
                                </div>
                                <div class="emoji-option" data-name="ÏÜêÎ™©_3" data-value="Ï§ëÍ∞Ñ Ï†ïÎèÑ">
                                    <div class="emoji-face">üòê</div>
                                    <div class="emoji-text">Î≥¥ÌÜµ</div>
                                </div>
                                <div class="emoji-option" data-name="ÏÜêÎ™©_3" data-value="Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò¢</div>
                                    <div class="emoji-text">Ïã¨Ìï®</div>
                                </div>
                                <div class="emoji-option" data-name="ÏÜêÎ™©_3" data-value="Îß§Ïö∞ Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò≠</div>
                                    <div class="emoji-text">Îß§Ïö∞Ïã¨Ìï®</div>
                                </div>
                            </div>
                            <input type="hidden" name="ÏÜêÎ™©_3" id="ÏÜêÎ™©_3">
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">4</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò ÏûêÏ£º Î∞úÏÉùÌïòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_4" value="ÏóÜÏùå" id="wrist_4_none">
                                    <label for="wrist_4_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_4" value="1Îã¨Ïóê 1Ìöå ÎØ∏Îßå" id="wrist_4_month">
                                    <label for="wrist_4_month">üìÖ ÌïúÎã¨Ïóê 1Ìöå ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_4" value="1Îã¨Ïóê 1-3Ìöå" id="wrist_4_month3">
                                    <label for="wrist_4_month3">üìÖ ÌïúÎã¨Ïóê 1-3Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_4" value="1Ï£ºÏùºÏóê 1-2Ìöå" id="wrist_4_week2">
                                    <label for="wrist_4_week2">üìÖ ÏùºÏ£ºÏùºÏóê 1-2Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_4" value="Îß§Ïùº" id="wrist_4_daily">
                                    <label for="wrist_4_daily">üìÖ Îß§Ïùº</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">5</div>
                                Ï¶ùÏÉÅÏù¥ Ï†êÏ†ê Ïã¨Ìï¥ÏßÄÍ≥† ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_5" value="ÏïÑÎãàÏò§" id="wrist_5_no">
                                    <label for="wrist_5_no">üëç ÏïÑÎãàÏöî</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_5" value="Ïòà" id="wrist_5_yes">
                                    <label for="wrist_5_yes">üëé Ïòà</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">6</div>
                                Í∏∞ÌÉÄ Ï¶ùÏÉÅÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_6" value="ÏóÜÏùå" id="wrist_6_none">
                                    <label for="wrist_6_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÏÜêÎ™©_6" value="ÏûàÏùå" id="wrist_6_yes">
                                    <label for="wrist_6_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÌóàÎ¶¨ Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä -->
            <div class="section-card pain-section" data-section="pain_ÌóàÎ¶¨">
                <div class="section-header">
                    <div class="section-icon">ü¶¥</div>
                    <div>
                        <div class="section-title">ÌóàÎ¶¨ Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä</div>
                        <div class="section-subtitle">ÌóàÎ¶¨ÏôÄ Í¥ÄÎ†®Îêú Ï¶ùÏÉÅÏóê ÎåÄÌï¥ ÎãµÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="body-part">
                    <div class="pain-questions">
                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">1</div>
                                ÌóàÎ¶¨ Î∂ÄÏúÑÏóê ÌÜµÏ¶ùÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_1" value="ÏóÜÏùå" id="back_1_none">
                                    <label for="back_1_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_1" value="ÏûàÏùå" id="back_1_yes">
                                    <label for="back_1_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">2</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò Ïò§Îûò ÏßÄÏÜçÎêòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_2" value="ÏóÜÏùå" id="back_2_none">
                                    <label for="back_2_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_2" value="1Ï£ºÏùº ÎØ∏Îßå" id="back_2_week">
                                    <label for="back_2_week">üìÖ 1Ï£ºÏùº ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_2" value="1Ï£ºÏùº Ïù¥ÏÉÅ ÏßÄÏÜç" id="back_2_long">
                                    <label for="back_2_long">üìÖ 1Ï£ºÏùº Ïù¥ÏÉÅ</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">3</div>
                                ÌÜµÏ¶ùÏùò Í∞ïÎèÑÎäî Ïñ¥Îäê Ï†ïÎèÑÏù∏Í∞ÄÏöî?
                            </div>
                            <div class="emoji-scale">
                                <div class="emoji-option" data-name="ÌóàÎ¶¨_3" data-value="ÏóÜÏùå">
                                    <div class="emoji-face">üòä</div>
                                    <div class="emoji-text">ÏóÜÏùå</div>
                                </div>
                                <div class="emoji-option" data-name="ÌóàÎ¶¨_3" data-value="ÏïΩÌïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üôÇ</div>
                                    <div class="emoji-text">ÏïΩÌï®</div>
                                </div>
                                <div class="emoji-option" data-name="ÌóàÎ¶¨_3" data-value="Ï§ëÍ∞Ñ Ï†ïÎèÑ">
                                    <div class="emoji-face">üòê</div>
                                    <div class="emoji-text">Î≥¥ÌÜµ</div>
                                </div>
                                <div class="emoji-option" data-name="ÌóàÎ¶¨_3" data-value="Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò¢</div>
                                    <div class="emoji-text">Ïã¨Ìï®</div>
                                </div>
                                <div class="emoji-option" data-name="ÌóàÎ¶¨_3" data-value="Îß§Ïö∞ Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò≠</div>
                                    <div class="emoji-text">Îß§Ïö∞Ïã¨Ìï®</div>
                                </div>
                            </div>
                            <input type="hidden" name="ÌóàÎ¶¨_3" id="ÌóàÎ¶¨_3">
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">4</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò ÏûêÏ£º Î∞úÏÉùÌïòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_4" value="ÏóÜÏùå" id="back_4_none">
                                    <label for="back_4_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_4" value="1Îã¨Ïóê 1Ìöå ÎØ∏Îßå" id="back_4_month">
                                    <label for="back_4_month">üìÖ ÌïúÎã¨Ïóê 1Ìöå ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_4" value="1Îã¨Ïóê 1-3Ìöå" id="back_4_month3">
                                    <label for="back_4_month3">üìÖ ÌïúÎã¨Ïóê 1-3Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_4" value="1Ï£ºÏùºÏóê 1-2Ìöå" id="back_4_week2">
                                    <label for="back_4_week2">üìÖ ÏùºÏ£ºÏùºÏóê 1-2Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_4" value="Îß§Ïùº" id="back_4_daily">
                                    <label for="back_4_daily">üìÖ Îß§Ïùº</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">5</div>
                                Ï¶ùÏÉÅÏù¥ Ï†êÏ†ê Ïã¨Ìï¥ÏßÄÍ≥† ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_5" value="ÏïÑÎãàÏò§" id="back_5_no">
                                    <label for="back_5_no">üëç ÏïÑÎãàÏöî</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_5" value="Ïòà" id="back_5_yes">
                                    <label for="back_5_yes">üëé Ïòà</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">6</div>
                                Í∏∞ÌÉÄ Ï¶ùÏÉÅÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_6" value="ÏóÜÏùå" id="back_6_none">
                                    <label for="back_6_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="ÌóàÎ¶¨_6" value="ÏûàÏùå" id="back_6_yes">
                                    <label for="back_6_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Îã§Î¶¨ Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä -->
            <div class="section-card pain-section" data-section="pain_Îã§Î¶¨">
                <div class="section-header">
                    <div class="section-icon">ü¶µ</div>
                    <div>
                        <div class="section-title">Îã§Î¶¨ Î∂ÄÏúÑ ÌÜµÏ¶ù ÌèâÍ∞Ä</div>
                        <div class="section-subtitle">Îã§Î¶¨ÏôÄ Í¥ÄÎ†®Îêú Ï¶ùÏÉÅÏóê ÎåÄÌï¥ ÎãµÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                </div>

                <div class="body-part">
                    <div class="pain-questions">
                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">1</div>
                                Îã§Î¶¨ Î∂ÄÏúÑÏóê ÌÜµÏ¶ùÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_1" value="ÏóÜÏùå" id="leg_1_none">
                                    <label for="leg_1_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_1" value="ÏûàÏùå" id="leg_1_yes">
                                    <label for="leg_1_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">2</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò Ïò§Îûò ÏßÄÏÜçÎêòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_2" value="ÏóÜÏùå" id="leg_2_none">
                                    <label for="leg_2_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_2" value="1Ï£ºÏùº ÎØ∏Îßå" id="leg_2_week">
                                    <label for="leg_2_week">üìÖ 1Ï£ºÏùº ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_2" value="1Ï£ºÏùº Ïù¥ÏÉÅ ÏßÄÏÜç" id="leg_2_long">
                                    <label for="leg_2_long">üìÖ 1Ï£ºÏùº Ïù¥ÏÉÅ</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">3</div>
                                ÌÜµÏ¶ùÏùò Í∞ïÎèÑÎäî Ïñ¥Îäê Ï†ïÎèÑÏù∏Í∞ÄÏöî?
                            </div>
                            <div class="emoji-scale">
                                <div class="emoji-option" data-name="Îã§Î¶¨_3" data-value="ÏóÜÏùå">
                                    <div class="emoji-face">üòä</div>
                                    <div class="emoji-text">ÏóÜÏùå</div>
                                </div>
                                <div class="emoji-option" data-name="Îã§Î¶¨_3" data-value="ÏïΩÌïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üôÇ</div>
                                    <div class="emoji-text">ÏïΩÌï®</div>
                                </div>
                                <div class="emoji-option" data-name="Îã§Î¶¨_3" data-value="Ï§ëÍ∞Ñ Ï†ïÎèÑ">
                                    <div class="emoji-face">üòê</div>
                                    <div class="emoji-text">Î≥¥ÌÜµ</div>
                                </div>
                                <div class="emoji-option" data-name="Îã§Î¶¨_3" data-value="Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò¢</div>
                                    <div class="emoji-text">Ïã¨Ìï®</div>
                                </div>
                                <div class="emoji-option" data-name="Îã§Î¶¨_3" data-value="Îß§Ïö∞ Ïã¨Ìïú ÌÜµÏ¶ù">
                                    <div class="emoji-face">üò≠</div>
                                    <div class="emoji-text">Îß§Ïö∞Ïã¨Ìï®</div>
                                </div>
                            </div>
                            <input type="hidden" name="Îã§Î¶¨_3" id="Îã§Î¶¨_3">
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">4</div>
                                ÌÜµÏ¶ùÏù¥ ÏñºÎßàÎÇò ÏûêÏ£º Î∞úÏÉùÌïòÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_4" value="ÏóÜÏùå" id="leg_4_none">
                                    <label for="leg_4_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_4" value="1Îã¨Ïóê 1Ìöå ÎØ∏Îßå" id="leg_4_month">
                                    <label for="leg_4_month">üìÖ ÌïúÎã¨Ïóê 1Ìöå ÎØ∏Îßå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_4" value="1Îã¨Ïóê 1-3Ìöå" id="leg_4_month3">
                                    <label for="leg_4_month3">üìÖ ÌïúÎã¨Ïóê 1-3Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_4" value="1Ï£ºÏùºÏóê 1-2Ìöå" id="leg_4_week2">
                                    <label for="leg_4_week2">üìÖ ÏùºÏ£ºÏùºÏóê 1-2Ìöå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_4" value="Îß§Ïùº" id="leg_4_daily">
                                    <label for="leg_4_daily">üìÖ Îß§Ïùº</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">5</div>
                                Ï¶ùÏÉÅÏù¥ Ï†êÏ†ê Ïã¨Ìï¥ÏßÄÍ≥† ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_5" value="ÏïÑÎãàÏò§" id="leg_5_no">
                                    <label for="leg_5_no">üëç ÏïÑÎãàÏöî</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_5" value="Ïòà" id="leg_5_yes">
                                    <label for="leg_5_yes">üëé Ïòà</label>
                                </div>
                            </div>
                        </div>

                        <div class="pain-question">
                            <div class="question-label">
                                <div class="question-number">6</div>
                                Í∏∞ÌÉÄ Ï¶ùÏÉÅÏù¥ ÏûàÎÇòÏöî?
                            </div>
                            <div class="pain-options">
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_6" value="ÏóÜÏùå" id="leg_6_none">
                                    <label for="leg_6_none">üòä ÏóÜÏùå</label>
                                </div>
                                <div class="pain-option">
                                    <input type="radio" name="Îã§Î¶¨_6" value="ÏûàÏùå" id="leg_6_yes">
                                    <label for="leg_6_yes">üò£ ÏûàÏùå</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ïï°ÏÖò Î≤ÑÌäºÎì§ -->
            <div class="form-actions">
                <div class="auto-save-status" id="autoSaveStatus">ÏûêÎèô Ï†ÄÏû• Ï§ë...</div>
                <div>
                    <button type="button" class="btn btn-primary" onclick="saveProgress()">üíæ Ï†ÄÏû•ÌïòÍ∏∞</button>
                    <button type="submit" class="btn btn-success">‚úÖ Ï†úÏ∂úÌïòÍ∏∞</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        // Ï†ÑÏó≠ Î≥ÄÏàò
        const totalSections = document.querySelectorAll('.section-card').length;
        let autoSaveInterval;

        // DOM Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            initializeForm();
            setupEmojiSelectors();
            createSectionNavigator();
            startAutoSave();
            updateProgress();
        });

        // Ìèº Ï¥àÍ∏∞Ìôî
        function initializeForm() {
            // Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóêÏÑú Ï†ÄÏû•Îêú Îç∞Ïù¥ÌÑ∞ Î∂àÎü¨Ïò§Í∏∞
            loadSavedData();

            // Ïä§ÌÅ¨Î°§ Ïù¥Î≤§Ìä∏Î°ú ÏßÑÌñâÎ•† ÏóÖÎç∞Ïù¥Ìä∏
            window.addEventListener('scroll', updateProgress);

            // Ìèº Î≥ÄÍ≤Ω Í∞êÏßÄ
            const form = document.getElementById('surveyForm');
            form.addEventListener('change', function() {
                updateProgress();
                saveToLocalStorage();
                updateSectionNavigator();
            });

            // ÏûÖÎ†• ÌïÑÎìú Î≥ÄÍ≤Ω Í∞êÏßÄ
            const inputs = form.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    updateProgress();
                    saveToLocalStorage();
                });
            });
        }

        // ÏÑπÏÖò ÎÇ¥ÎπÑÍ≤åÏù¥ÌÑ∞ ÏÉùÏÑ±
        function createSectionNavigator() {
            const navigator = document.getElementById('sectionNavigator');
            const sections = document.querySelectorAll('.section-card');

            sections.forEach((section, index) => {
                const dot = document.createElement('div');
                dot.className = 'nav-dot';
                dot.dataset.section = index;
                dot.title = section.querySelector('.section-title').textContent;
                dot.addEventListener('click', function() {
                    section.scrollIntoView({ behavior: 'smooth' });
                });
                navigator.appendChild(dot);
            });
        }

        // ÏÑπÏÖò ÎÇ¥ÎπÑÍ≤åÏù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏
        function updateSectionNavigator() {
            const sections = document.querySelectorAll('.section-card');
            const dots = document.querySelectorAll('.nav-dot');

            sections.forEach((section, index) => {
                const inputs = section.querySelectorAll('input, select, textarea');
                let filledCount = 0;
                let totalCount = 0;

                inputs.forEach(input => {
                    if (input.type === 'hidden') return;
                    totalCount++;

                    if (input.type === 'radio') {
                        const radioGroup = section.querySelectorAll(`input[name="${input.name}"]`);
                        if (Array.from(radioGroup).some(r => r.checked)) {
                            filledCount++;
                            // Í∞ôÏùÄ ÎùºÎîîÏò§ Í∑∏Î£πÏùò Îã§Î•∏ Ìï≠Î™©Îì§ÏùÄ Í±¥ÎÑàÎúÄ
                            const sameName = Array.from(inputs).filter(i => i.name === input.name);
                            sameName.forEach(sn => {
                                if (sn !== input) {
                                    const inputIndex = Array.from(inputs).indexOf(sn);
                                    if (inputIndex > Array.from(inputs).indexOf(input)) {
                                        totalCount--;
                                    }
                                }
                            });
                        }
                    } else if (input.value.trim() !== '') {
                        filledCount++;
                    }
                });

                // Ï§ëÎ≥µ Ï†úÍ±∞Î•º ÏúÑÌïú ÎùºÎîîÏò§ Í∑∏Î£π Ï≤òÎ¶¨
                const radioNames = new Set();
                const adjustedInputs = Array.from(inputs).filter(input => {
                    if (input.type === 'radio') {
                        if (radioNames.has(input.name)) {
                            return false;
                        }
                        radioNames.add(input.name);
                    }
                    return input.type !== 'hidden';
                });

                const adjustedTotal = adjustedInputs.length;
                let adjustedFilled = 0;

                adjustedInputs.forEach(input => {
                    if (input.type === 'radio') {
                        const radioGroup = section.querySelectorAll(`input[name="${input.name}"]`);
                        if (Array.from(radioGroup).some(r => r.checked)) {
                            adjustedFilled++;
                        }
                    } else if (input.value.trim() !== '') {
                        adjustedFilled++;
                    }
                });

                const completionRate = adjustedTotal > 0 ? adjustedFilled / adjustedTotal : 0;

                if (completionRate === 1) {
                    dots[index].classList.add('completed');
                    dots[index].classList.remove('current');
                } else if (completionRate > 0) {
                    dots[index].classList.add('current');
                    dots[index].classList.remove('completed');
                } else {
                    dots[index].classList.remove('completed', 'current');
                }
            });
        }

        // Ïù¥Î™®ÏßÄ ÏÑ†ÌÉùÍ∏∞ ÏÑ§Ï†ï
        function setupEmojiSelectors() {
            // Ïú°Ï≤¥Ï†Å Î∂ÄÎã¥ Ï†ïÎèÑ Ïù¥Î™®ÏßÄ ÏÑ†ÌÉùÍ∏∞
            const physicalBurdenEmojis = document.querySelectorAll('#physicalBurden .emoji-option, [data-name="physical_burden"]');
            physicalBurdenEmojis.forEach(emoji => {
                emoji.addEventListener('click', function() {
                    const container = this.closest('.emoji-scale');
                    if (!container) return;

                    const emojis = container.querySelectorAll('.emoji-option');
                    const hiddenInput = document.getElementById('physical_burden');

                    emojis.forEach(e => e.classList.remove('selected'));
                    this.classList.add('selected');

                    if (hiddenInput) {
                        hiddenInput.value = this.dataset.value;
                    }

                    updateProgress();
                    saveToLocalStorage();
                });
            });

            // ÌÜµÏ¶ù Í∞ïÎèÑ Ïù¥Î™®ÏßÄ ÏÑ†ÌÉùÍ∏∞Îì§
            const painEmojis = document.querySelectorAll('[data-name]');
            painEmojis.forEach(emoji => {
                emoji.addEventListener('click', function() {
                    const fieldName = this.dataset.name;
                    const value = this.dataset.value;
                    const container = this.closest('.emoji-scale');

                    if (!container || !fieldName) return;

                    const emojis = container.querySelectorAll('.emoji-option');
                    const hiddenInput = document.getElementById(fieldName);

                    emojis.forEach(e => e.classList.remove('selected'));
                    this.classList.add('selected');

                    if (hiddenInput) {
                        hiddenInput.value = value;
                    }

                    updateProgress();
                    saveToLocalStorage();
                });
            });
        }

        // ÏßÑÌñâÎ•† ÏóÖÎç∞Ïù¥Ìä∏
        function updateProgress() {
            const form = document.getElementById('surveyForm');
            const inputs = form.querySelectorAll('input, select, textarea');
            const requiredInputs = form.querySelectorAll('input[required], select[required], textarea[required]');

            // ÎùºÎîîÏò§ Î≤ÑÌäº Í∑∏Î£πÎ≥ÑÎ°ú Ï†ïÎ¶¨
            const radioGroups = new Map();
            const otherInputs = [];

            inputs.forEach(input => {
                if (input.type === 'hidden') return;

                if (input.type === 'radio') {
                    if (!radioGroups.has(input.name)) {
                        radioGroups.set(input.name, []);
                    }
                    radioGroups.get(input.name).push(input);
                } else {
                    otherInputs.push(input);
                }
            });

            let filledInputs = 0;
            let totalInputs = radioGroups.size + otherInputs.length;

            // ÎùºÎîîÏò§ Í∑∏Î£π Ï≤¥ÌÅ¨
            radioGroups.forEach((group, name) => {
                if (group.some(radio => radio.checked)) {
                    filledInputs++;
                }
            });

            // Í∏∞ÌÉÄ ÏûÖÎ†• ÌïÑÎìú Ï≤¥ÌÅ¨
            otherInputs.forEach(input => {
                if (input.value.trim() !== '') {
                    filledInputs++;
                }
            });

            // ÌïÑÏàò Ìï≠Î™© Ï≤¥ÌÅ¨
            let filledRequired = 0;
            let totalRequired = requiredInputs.length;

            requiredInputs.forEach(input => {
                if (input.value.trim() !== '') {
                    filledRequired++;
                }
            });

            const progress = totalInputs > 0 ? Math.round((filledInputs / totalInputs) * 100) : 0;
            const requiredProgress = totalRequired > 0 ? Math.round((filledRequired / totalRequired) * 100) : 100;

            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');

            progressFill.style.width = progress + '%';

            if (progress === 100) {
                progressText.textContent = `üéâ ÏôÑÎ£å! (${progress}%)`;
                progressText.style.color = '#28a745';
            } else if (requiredProgress === 100) {
                progressText.textContent = `‚úÖ ÌïÑÏàòÌï≠Î™© ÏôÑÎ£å (Ï†ÑÏ≤¥ ${progress}%)`;
                progressText.style.color = '#007bff';
            } else {
                progressText.textContent = `ÏßÑÌñâÏ§ë... (${progress}% | ÌïÑÏàò ${requiredProgress}%)`;
                progressText.style.color = '#666';
            }

            updateSectionNavigator();
        }

        // Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóê Ï†ÄÏû•
        function saveToLocalStorage() {
            const form = document.getElementById('surveyForm');
            const formData = new FormData(form);
            const data = {};

            for (let [key, value] of formData.entries()) {
                if (data[key]) {
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            }

            // ÌûàÎì† ÌïÑÎìú Í∞íÎì§ÎèÑ Ï†ÄÏû•
            const hiddenInputs = form.querySelectorAll('input[type="hidden"]');
            hiddenInputs.forEach(input => {
                if (input.value && input.name !== 'csrf_token') {
                    data[input.name] = input.value;
                }
            });

            localStorage.setItem('survey_002_data', JSON.stringify(data));

            // Ï†ÄÏû• ÏÉÅÌÉú ÌëúÏãú
            const status = document.getElementById('autoSaveStatus');
            status.textContent = 'üíæ ÏûêÎèô Ï†ÄÏû•Îê® (' + new Date().toLocaleTimeString() + ')';
            status.style.color = '#28a745';
        }

        // Ï†ÄÏû•Îêú Îç∞Ïù¥ÌÑ∞ Î∂àÎü¨Ïò§Í∏∞
        function loadSavedData() {
            const savedData = localStorage.getItem('survey_002_data');
            if (!savedData) return;

            try {
                const data = JSON.parse(savedData);
                const form = document.getElementById('surveyForm');

                Object.keys(data).forEach(key => {
                    const elements = form.querySelectorAll(`[name="${key}"]`);

                    elements.forEach(element => {
                        if (element.type === 'radio') {
                            if (element.value === data[key]) {
                                element.checked = true;
                            }
                        } else if (element.type === 'hidden') {
                            element.value = data[key];

                            // Ïù¥Î™®ÏßÄ ÏÑ†ÌÉù ÏÉÅÌÉú Î≥µÏõê
                            const emojiOptions = form.querySelectorAll(`[data-name="${key}"]`);
                            emojiOptions.forEach(option => {
                                if (option.dataset.value === data[key]) {
                                    option.classList.add('selected');
                                }
                            });
                        } else {
                            element.value = data[key];
                        }
                    });
                });

                updateProgress();
                updateSectionNavigator();

            } catch (e) {
                console.error('Ï†ÄÏû•Îêú Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§:', e);
            }
        }

        // ÏûêÎèô Ï†ÄÏû• ÏãúÏûë
        function startAutoSave() {
            autoSaveInterval = setInterval(function() {
                saveToLocalStorage();
            }, 30000); // 30Ï¥àÎßàÎã§ ÏûêÎèô Ï†ÄÏû•
        }

        // ÏàòÎèô Ï†ÄÏû•
        function saveProgress() {
            saveToLocalStorage();
            alert('üíæ Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!\n\nÏñ∏Ï†úÎì†ÏßÄ ÎèåÏïÑÏôÄÏÑú Ïù¥Ïñ¥ÏÑú ÏûëÏÑ±ÌïòÏã§ Ïàò ÏûàÏñ¥Ïöî.');
        }

        // Îã§ÌÅ¨ Î™®Îìú ÌÜ†Í∏Ä
        function toggleTheme() {
            const body = document.body;
            const button = document.querySelector('.theme-toggle');

            if (body.classList.contains('dark-mode')) {
                body.classList.remove('dark-mode');
                button.textContent = 'üåô Îã§ÌÅ¨Î™®Îìú';
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark-mode');
                button.textContent = '‚òÄÔ∏è ÎùºÏù¥Ìä∏Î™®Îìú';
                localStorage.setItem('theme', 'dark');
            }
        }

        // ÌÖåÎßà ÏÑ§Ï†ï Î∂àÎü¨Ïò§Í∏∞
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-toggle').textContent = '‚òÄÔ∏è ÎùºÏù¥Ìä∏Î™®Îìú';
            }
        });

        // Ìèº Ï†úÏ∂ú Ïãú Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄ Ï†ïÎ¶¨
        document.getElementById('surveyForm').addEventListener('submit', function() {
            localStorage.removeItem('survey_002_data');
        });

        // ÌéòÏù¥ÏßÄ Î≤óÏñ¥ÎÇ† Îïå Í≤ΩÍ≥†
        window.addEventListener('beforeunload', function(e) {
            const form = document.getElementById('surveyForm');
            const inputs = form.querySelectorAll('input, select, textarea');
            let hasData = false;

            inputs.forEach(input => {
                if (input.value.trim() !== '' && input.type !== 'hidden' && input.name !== 'csrf_token') {
                    hasData = true;
                }
            });

            if (hasData) {
                e.preventDefault();
                e.returnValue = 'ÏûëÏÑ± Ï§ëÏù∏ ÎÇ¥Ïö©Ïù¥ ÏûàÏäµÎãàÎã§. Ï†ïÎßê ÎÇòÍ∞ÄÏãúÍ≤†ÏäµÎãàÍπå?';
            }
        });

        // Ï†ëÍ∑ºÏÑ± Í∞úÏÑ†: ÌÇ§Î≥¥Îìú ÎÇ¥ÎπÑÍ≤åÏù¥ÏÖò
        document.addEventListener('keydown', function(e) {
            // Ctrl + EnterÎ°ú Ìèº Ï†úÏ∂ú
            if (e.ctrlKey && e.key === 'Enter') {
                document.getElementById('surveyForm').submit();
            }

            // Ctrl + SÎ°ú Ï†ÄÏû•
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveProgress();
            }
        });

        // Ïä§ÌÅ¨Î°§ Ïãú ÌòÑÏû¨ ÏÑπÏÖò ÌïòÏù¥ÎùºÏù¥Ìä∏
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('.section-card');
            const dots = document.querySelectorAll('.nav-dot');
            const scrollPosition = window.scrollY + window.innerHeight / 2;

            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;

                if (scrollPosition >= sectionTop && scrollPosition <= sectionBottom) {
                    dots.forEach(dot => dot.classList.remove('current'));
                    if (!dots[index].classList.contains('completed')) {
                        dots[index].classList.add('current');
                    }
                }
            });
        });
    </script>
</body>
</html>