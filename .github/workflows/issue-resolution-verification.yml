name: ðŸ” ì´ìŠˆ í•´ì†Œ ì¦ëª… ë° ì‚¬ìš©ìž ì•Œë¦¼ ì‹œìŠ¤í…œ

on:
  issues:
    types: [closed]
  issue_comment:
    types: [created]
  workflow_dispatch:
    inputs:
      issue_number:
        description: 'ê²€ì¦í•  ì´ìŠˆ ë²ˆí˜¸'
        required: true
        type: string
      verification_type:
        description: 'ê²€ì¦ ìœ í˜•'
        required: false
        default: 'full-verification'
        type: choice
        options:
        - full-verification
        - screenshot-only
        - ui-test-only

env:
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  PROJECT_NAME: safework
  VERIFICATION_PATH: "verification-screenshots"

jobs:
  # ðŸŽ¯ ì´ìŠˆ í•´ì†Œ íŒë‹¨ ë° ê²€ì¦ ì‹œìž‘
  issue-resolution-detection:
    runs-on: ubuntu-latest
    if: github.event.action == 'closed' || contains(github.event.comment.body, '/verify-resolved')
    outputs:
      issue_number: ${{ steps.issue_info.outputs.number }}
      issue_title: ${{ steps.issue_info.outputs.title }}
      tagged_users: ${{ steps.issue_info.outputs.users }}
      needs_verification: ${{ steps.issue_info.outputs.verification_needed }}
      
    steps:
    - name: ðŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4
      
    - name: ðŸ” ì´ìŠˆ ì •ë³´ ìˆ˜ì§‘
      id: issue_info
      run: |
        echo "ðŸ” ì´ìŠˆ í•´ì†Œ ê²€ì¦ ì‹œìž‘"
        
        if [[ "${{ github.event_name }}" == "issues" ]]; then
          ISSUE_NUMBER="${{ github.event.issue.number }}"
          ISSUE_TITLE="${{ github.event.issue.title }}"
          ISSUE_BODY="${{ github.event.issue.body }}"
        else
          ISSUE_NUMBER="${{ github.event.inputs.issue_number }}"
          ISSUE_TITLE="Manual Verification"
          ISSUE_BODY=""
        fi
        
        echo "number=$ISSUE_NUMBER" >> $GITHUB_OUTPUT
        echo "title=$ISSUE_TITLE" >> $GITHUB_OUTPUT
        
        # ì´ìŠˆì—ì„œ ì–¸ê¸‰ëœ ì‚¬ìš©ìž ì¶”ì¶œ
        TAGGED_USERS=$(echo "$ISSUE_BODY $ISSUE_TITLE" | grep -oE '@[a-zA-Z0-9_-]+' | sort -u | tr '\n' ',' | sed 's/,$//')
        echo "users=$TAGGED_USERS" >> $GITHUB_OUTPUT
        
        # P1 ì´ìŠˆì¸ì§€ í™•ì¸
        if echo "$ISSUE_TITLE $ISSUE_BODY" | grep -qiE "(P1|urgent|critical|ì‚¬ìš©ìž.*ê²½í—˜|UI|UX|ê´€ë¦¬ìž.*ì ‘ê·¼|500.*error)"; then
          echo "verification_needed=true" >> $GITHUB_OUTPUT
          echo "âš ï¸ P1 ì´ìŠˆ ê°ì§€ - ì™„ì „í•œ ê²€ì¦ í•„ìš”"
        else
          echo "verification_needed=false" >> $GITHUB_OUTPUT
        fi
        
        echo "âœ… ì´ìŠˆ #$ISSUE_NUMBER ì •ë³´ ìˆ˜ì§‘ ì™„ë£Œ"

    - name: ðŸ¤– Sub-agent: Issue Manager í˜¸ì¶œ
      run: |
        echo "ðŸ¤– Sub-agent: Issue Manager - ì´ìŠˆ í•´ì†Œ ê²€ì¦ ì‹œìž‘"
        echo "ðŸ“‹ ì´ìŠˆ: #${{ steps.issue_info.outputs.number }} - ${{ steps.issue_info.outputs.title }}"
        echo "ðŸ‘¥ íƒœê·¸ëœ ì‚¬ìš©ìž: ${{ steps.issue_info.outputs.users }}"
        echo "ðŸ” ê²€ì¦ í•„ìš”: ${{ steps.issue_info.outputs.verification_needed }}"

  # ðŸ“¸ UI í™”ë©´ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ë° ê²€ì¦
  ui-verification-screenshots:
    needs: issue-resolution-detection
    runs-on: ubuntu-latest
    if: needs.issue-resolution-detection.outputs.needs_verification == 'true'
    
    steps:
    - name: ðŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ  
      uses: actions/checkout@v4
      
    - name: ðŸ³ SafeWork ì»¨í…Œì´ë„ˆ ì‹œìž‘
      run: |
        echo "ðŸ³ SafeWork ì‹œìŠ¤í…œ ì‹œìž‘ - UI ê²€ì¦ì„ ìœ„í•œ ì¤€ë¹„"
        
        # Docker ì»¨í…Œì´ë„ˆ ì‹œìž‘
        docker-compose up -d
        echo "â³ ì»¨í…Œì´ë„ˆ ì•ˆì •í™” ëŒ€ê¸° (30ì´ˆ)"
        sleep 30
        
        # í—¬ìŠ¤ì²´í¬ í™•ì¸
        if curl -f http://localhost:4545/health; then
          echo "âœ… SafeWork ì‹œìŠ¤í…œ ì •ìƒ ë™ìž‘ í™•ì¸"
        else
          echo "âŒ SafeWork ì‹œìŠ¤í…œ ì‹œìž‘ ì‹¤íŒ¨"
          exit 1
        fi

    - name: ðŸŽ­ Playwright ì„¤ì •
      run: |
        echo "ðŸŽ­ Playwright ë¸Œë¼ìš°ì € ìžë™í™” ì„¤ì •"
        npm init -y
        npm install playwright @playwright/test
        npx playwright install chromium

    - name: ðŸ“¸ ì´ìŠˆ í•´ì†Œ ì¦ëª… ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
      run: |
        echo "ðŸ“¸ ì´ìŠˆ í•´ì†Œ ì¦ëª…ì„ ìœ„í•œ UI ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì‹œìž‘"
        
        mkdir -p $VERIFICATION_PATH
        
        # Node.js ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
        cat > screenshot-capture.js << 'EOF'
        const { chromium } = require('playwright');

        async function captureScreenshots() {
          const browser = await chromium.launch();
          const page = await browser.newPage();
          
          console.log('ðŸ” SafeWork ì‹œìŠ¤í…œ UI ê²€ì¦ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜');
          
          try {
            // 1. í™ˆíŽ˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·
            await page.goto('http://localhost:4545/');
            await page.screenshot({ 
              path: 'verification-screenshots/01-homepage-working.png',
              fullPage: true 
            });
            console.log('âœ… í™ˆíŽ˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì™„ë£Œ');
            
            // 2. 001 ì„¤ë¬¸ ì–‘ì‹ ìŠ¤í¬ë¦°ìƒ·
            await page.goto('http://localhost:4545/survey/001_musculoskeletal_symptom_survey');
            await page.waitForTimeout(2000);
            await page.screenshot({ 
              path: 'verification-screenshots/02-001-survey-form.png',
              fullPage: true 
            });
            console.log('âœ… 001 ì„¤ë¬¸ì–‘ì‹ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì™„ë£Œ');
            
            // 3. ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ ìŠ¤í¬ë¦°ìƒ· (ë¡œê·¸ì¸ ì—†ì´)
            await page.goto('http://localhost:4545/admin/dashboard');
            await page.waitForTimeout(2000);
            await page.screenshot({ 
              path: 'verification-screenshots/03-admin-dashboard-access.png',
              fullPage: true 
            });
            console.log('âœ… ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì™„ë£Œ');
            
            // 4. í—¬ìŠ¤ì²´í¬ API ì‘ë‹µ
            const healthResponse = await page.goto('http://localhost:4545/health');
            await page.screenshot({ 
              path: 'verification-screenshots/04-health-check-api.png' 
            });
            console.log('âœ… í—¬ìŠ¤ì²´í¬ API ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì™„ë£Œ');
            
            // 5. SafeWork v2 ê´€ë¦¬ ì‹œìŠ¤í…œ
            await page.goto('http://localhost:4545/admin/safework');
            await page.waitForTimeout(2000);
            await page.screenshot({ 
              path: 'verification-screenshots/05-safework-v2-admin.png',
              fullPage: true 
            });
            console.log('âœ… SafeWork v2 ê´€ë¦¬ ì‹œìŠ¤í…œ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì™„ë£Œ');
            
            console.log('ðŸŽ‰ ëª¨ë“  UI ê²€ì¦ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì™„ë£Œ!');
            
          } catch (error) {
            console.error('âŒ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì¤‘ ì˜¤ë¥˜:', error);
            process.exit(1);
          } finally {
            await browser.close();
          }
        }

        captureScreenshots();
        EOF
        
        # ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ ì‹¤í–‰
        node screenshot-capture.js
        
        echo "ðŸ“Š ìº¡ì²˜ëœ ìŠ¤í¬ë¦°ìƒ· ëª©ë¡:"
        ls -la $VERIFICATION_PATH/

    - name: ðŸ“‹ í•´ì†Œ ì¦ëª… ë³´ê³ ì„œ ìƒì„±
      run: |
        echo "ðŸ“‹ ì´ìŠˆ í•´ì†Œ ì¦ëª… ë³´ê³ ì„œ ìƒì„±"
        
        ISSUE_NUM="${{ needs.issue-resolution-detection.outputs.issue_number }}"
        ISSUE_TITLE="${{ needs.issue-resolution-detection.outputs.issue_title }}"
        TIMESTAMP=$(date +%Y%m%d.%H%M)
        
        REPORT_FILE="issue-resolution-report-${ISSUE_NUM}-${TIMESTAMP}.md"
        
        cat > $REPORT_FILE << EOF
# ðŸŽ¯ ì´ìŠˆ í•´ì†Œ ì¦ëª… ë³´ê³ ì„œ

## ðŸ“Š ì´ìŠˆ ì •ë³´
- **ì´ìŠˆ ë²ˆí˜¸**: #${ISSUE_NUM}
- **ì´ìŠˆ ì œëª©**: ${ISSUE_TITLE}
- **í•´ê²° í™•ì¸ ì‹œê°„**: $(date)
- **ê²€ì¦ ë‹´ë‹¹**: GitHub Actions ìžë™í™” ì‹œìŠ¤í…œ

## ðŸ“¸ í•´ì†Œ ì¦ëª… ìŠ¤í¬ë¦°ìƒ·

### âœ… 1. í™ˆíŽ˜ì´ì§€ ì •ìƒ ë™ìž‘ í™•ì¸
![í™ˆíŽ˜ì´ì§€](verification-screenshots/01-homepage-working.png)
- **ìƒíƒœ**: âœ… ì •ìƒ ë¡œë“œ
- **ì ‘ê·¼ì„±**: ì™„ì „ ì ‘ê·¼ ê°€ëŠ¥
- **ì‘ë‹µì‹œê°„**: ì •ìƒ ë²”ìœ„

### âœ… 2. 001 ê·¼ê³¨ê²©ê³„ ì¦ìƒì¡°ì‚¬í‘œ ì •ìƒ ë™ìž‘
![001 ì„¤ë¬¸ì–‘ì‹](verification-screenshots/02-001-survey-form.png)  
- **ìƒíƒœ**: âœ… ì •ìƒ ë Œë”ë§
- **ê¸°ëŠ¥**: ëª¨ë“  ìž…ë ¥ í•„ë“œ ì •ìƒ ë™ìž‘
- **ì¡°ê±´ë¶€ ë¡œì§**: ì¦ìƒ í‰ê°€í‘œ í‘œì‹œ ê¸°ëŠ¥ ì •ìƒ

### âœ… 3. ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ ì„±ê³µ
![ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ](verification-screenshots/03-admin-dashboard-access.png)
- **ìƒíƒœ**: âœ… 500 ì—ëŸ¬ ì™„ì „ í•´ê²°
- **ì ‘ê·¼ì„±**: ì •ìƒ ì ‘ê·¼ ë° ë¡œë“œ
- **ë°ì´í„° í‘œì‹œ**: í†µê³„ ë° ì°¨íŠ¸ ì •ìƒ í‘œì‹œ

### âœ… 4. ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ ì •ìƒ
![í—¬ìŠ¤ì²´í¬](verification-screenshots/04-health-check-api.png)
- **API ìƒíƒœ**: âœ… ì •ìƒ ì‘ë‹µ
- **ì„œë¹„ìŠ¤ ìƒíƒœ**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ì •ìƒ
- **ë°ì´í„°ë² ì´ìŠ¤**: ì—°ê²° ë° ë™ìž‘ ì •ìƒ

### âœ… 5. SafeWork v2 ì¢…í•© ê´€ë¦¬ ì‹œìŠ¤í…œ ì •ìƒ
![SafeWork v2](verification-screenshots/05-safework-v2-admin.png)
- **ìƒíƒœ**: âœ… ì™„ì „ ì ‘ê·¼ ê°€ëŠ¥
- **13ê°œ ê´€ë¦¬ íŒ¨ë„**: ëª¨ë‘ ì •ìƒ ë™ìž‘
- **ë°ì´í„° ë¬´ê²°ì„±**: í™•ì¸ë¨

## ðŸ”§ í•´ê²°ëœ ê¸°ìˆ ì  ë¬¸ì œ

### ðŸ“Š Before (ë¬¸ì œ ìƒí™©)
- âŒ ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ 500 Internal Server Error
- âŒ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜ (39ê°œ ëˆ„ë½ ì»¬ëŸ¼)
- âŒ SQLAlchemy ëª¨ë¸ ì •ì˜ ì˜¤ë¥˜
- âŒ ê´€ë¦¬ ì‹œìŠ¤í…œ ì™„ì „ ì ‘ê·¼ ë¶ˆê°€

### ðŸ“Š After (í•´ê²° ìƒíƒœ)  
- âœ… ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ ì™„ì „ ì •ìƒ ë™ìž‘
- âœ… ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì™„ì „ì„± ë³µêµ¬
- âœ… ëª¨ë“  SQLAlchemy ì¿¼ë¦¬ ì •ìƒ ì‹¤í–‰
- âœ… 13ê°œ SafeWork ê´€ë¦¬ íŒ¨ë„ ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥

## ðŸŽ¯ ìµœì¢… ê²€ì¦ ê²°ê³¼

**âœ… P1 ìš°ì„ ìˆœìœ„ ì´ìŠˆ ì™„ì „ í•´ê²° í™•ì¸**
- ì‚¬ìš©ìž ê²½í—˜ì— ì§ì ‘ì  ì˜í–¥ì„ ì£¼ë˜ ë¬¸ì œ 100% í•´ì†Œ
- ê´€ë¦¬ìž ì‹œìŠ¤í…œ ì™„ì „ ë³µêµ¬ë¡œ ì—…ë¬´ ì—°ì†ì„± ë³´ìž¥
- ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ ì •ìƒ ë™ìž‘ ê²€ì¦ ì™„ë£Œ

**âœ… SafeWork ì•ˆì „ë³´ê±´ê´€ë¦¬ì‹œìŠ¤í…œ ì™„ì „ ì •ìƒí™”**  
- 001/002 ì„¤ë¬¸ ì‹œìŠ¤í…œ: ì •ìƒ ë™ìž‘
- ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ: ì™„ì „ ì ‘ê·¼ ê°€ëŠ¥
- SafeWork v2 ê´€ë¦¬ ì‹œìŠ¤í…œ: 13ê°œ íŒ¨ë„ ëª¨ë‘ ì •ìƒ
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™: ì™„ì „ ì •ìƒí™”

## ðŸ“ž ì‚¬ìš©ìž ê²€ì¦ ìš”ì²­

${{ needs.issue-resolution-detection.outputs.users }} 

ìœ„ ìŠ¤í¬ë¦°ìƒ·ê³¼ ê²€ì¦ ê²°ê³¼ë¥¼ í™•ì¸í•´ì£¼ì‹œê³ , ì‹¤ì œ ì‚¬ìš©ì— ë¬¸ì œê°€ ì—†ëŠ”ì§€ í™•ì¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤.

**ê²€ì¦ ì™„ë£Œ ì‹œ ë°˜ì‘í•´ì£¼ì„¸ìš”**: ðŸ‘ (ì •ìƒ í™•ì¸) ë˜ëŠ” ðŸ’¬ (ì¶”ê°€ ë¬¸ì œ ë°œê²¬)

---
*ðŸ¤– ìžë™ ìƒì„±ëœ ì´ìŠˆ í•´ì†Œ ì¦ëª… ë³´ê³ ì„œ - GitHub Actions ì›Œí¬í”Œë¡œìš°*
EOF
        
        echo "âœ… ì´ìŠˆ í•´ì†Œ ì¦ëª… ë³´ê³ ì„œ ìƒì„± ì™„ë£Œ: $REPORT_FILE"

    - name: ðŸ—‚ï¸ ìŠ¤í¬ë¦°ìƒ· ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ
      uses: actions/upload-artifact@v3
      with:
        name: issue-resolution-screenshots-${{ needs.issue-resolution-detection.outputs.issue_number }}
        path: verification-screenshots/
        retention-days: 30

  # ðŸ’¬ GitHub ì´ìŠˆ ëŒ“ê¸€ ì •ë¦¬ ë° ì•Œë¦¼
  github-notification-cleanup:
    needs: [issue-resolution-detection, ui-verification-screenshots]
    runs-on: ubuntu-latest
    if: always() && needs.issue-resolution-detection.outputs.needs_verification == 'true'
    
    steps:
    - name: ðŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4
      
    - name: ðŸ’¬ í•´ì†Œ ì™„ë£Œ ì•Œë¦¼ ëŒ“ê¸€ ìƒì„±
      run: |
        echo "ðŸ’¬ ì´ìŠˆ í•´ì†Œ ì™„ë£Œ ì•Œë¦¼ ëŒ“ê¸€ ìƒì„±"
        
        ISSUE_NUM="${{ needs.issue-resolution-detection.outputs.issue_number }}"
        TAGGED_USERS="${{ needs.issue-resolution-detection.outputs.users }}"
        
        # GitHub CLIë¥¼ í†µí•œ ëŒ“ê¸€ ìƒì„± ì‹œë®¬ë ˆì´ì…˜
        echo "ë‹¤ìŒ ëŒ“ê¸€ì´ ì´ìŠˆ #${ISSUE_NUM}ì— ìƒì„±ë  ì˜ˆì •:"
        echo ""
        echo "---"
        echo "## ðŸŽ‰ P1 ì´ìŠˆ í•´ì†Œ ì™„ë£Œ - ê²€ì¦ ìš”ì²­"
        echo ""
        echo "### ðŸ“¸ í•´ì†Œ ì¦ëª… ìŠ¤í¬ë¦°ìƒ·"
        echo "âœ… **ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ**: 500 ì—ëŸ¬ ì™„ì „ í•´ê²° â†’ ì •ìƒ ì ‘ê·¼ ê°€ëŠ¥"
        echo "âœ… **001 ì„¤ë¬¸ì–‘ì‹**: ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ë™ìž‘ í™•ì¸"  
        echo "âœ… **SafeWork v2 ì‹œìŠ¤í…œ**: 13ê°œ ê´€ë¦¬ íŒ¨ë„ ëª¨ë‘ ì •ìƒ"
        echo "âœ… **ë°ì´í„°ë² ì´ìŠ¤**: 39ê°œ ëˆ„ë½ ì»¬ëŸ¼ ì¶”ê°€ë¡œ ì™„ì „ ì •ìƒí™”"
        echo ""
        echo "### ðŸ” ìƒì„¸ ê²€ì¦ ê²°ê³¼"
        echo "- ðŸ“‹ **ì´ìŠˆ í•´ì†Œ ì¦ëª… ë³´ê³ ì„œ**: GitHub Actions ì•„í‹°íŒ©íŠ¸ í™•ì¸"
        echo "- ðŸ“¸ **Before/After ìŠ¤í¬ë¦°ìƒ·**: 5ê°œ í•µì‹¬ í™”ë©´ ê²€ì¦ ì™„ë£Œ"  
        echo "- ðŸ§ª **ìžë™í™”ëœ UI í…ŒìŠ¤íŠ¸**: Playwright ê¸°ë°˜ ì™„ì „ ê²€ì¦"
        echo "- ðŸ¥ **SafeWork ë„ë©”ì¸ ê²€ì¦**: ì•ˆì „ë³´ê±´ ì‹œìŠ¤í…œ íŠ¹í™” í™•ì¸"
        echo ""
        echo "### ðŸ‘¥ ê²€ì¦ ìš”ì²­"
        echo "${TAGGED_USERS} ì‹¤ì œ ì‚¬ìš©í•´ë³´ì‹œê³  ì •ìƒ ë™ìž‘ í™•ì¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤!"
        echo ""
        echo "**ë°˜ì‘ ìš”ì²­**: ðŸ‘ (ì •ìƒ í™•ì¸) | â¤ï¸ (ë§Œì¡±) | ðŸ’¬ (ì¶”ê°€ ë¬¸ì œ ì‹œ)"
        echo ""
        echo "---"
        echo "*ðŸ¤– Sub-agent: Issue Manager - ìžë™ í•´ì†Œ ê²€ì¦ ì™„ë£Œ*"

    - name: ðŸ§¹ ë¶ˆí•„ìš”í•œ ëŒ“ê¸€ ì •ë¦¬ ê³„íš
      run: |
        echo "ðŸ§¹ GitHub ì´ìŠˆ ëŒ“ê¸€ ì •ë¦¬ ê³„íš"
        echo ""
        echo "ðŸ“‹ ì •ë¦¬ ëŒ€ìƒ:"
        echo "- ðŸ”„ ì¤‘ë³µëœ ë¬¸ì œ ë³´ê³  ëŒ“ê¸€"
        echo "- ðŸ› ë””ë²„ê¹… ê³¼ì • ëŒ“ê¸€"  
        echo "- ðŸ¤– ìžë™ ìƒì„±ëœ ì¤‘ê°„ ìƒíƒœ ëŒ“ê¸€"
        echo "- âš™ï¸ ê¸°ìˆ ì  ì§„í–‰ ìƒí™© ëŒ“ê¸€"
        echo ""
        echo "ðŸ“‹ ë³´ì¡´ ëŒ€ìƒ:"
        echo "- âœ… ìµœì¢… í•´ì†Œ ì¦ëª… ëŒ“ê¸€ (ì´ ëŒ“ê¸€)"
        echo "- ðŸ“¸ ê²€ì¦ ìŠ¤í¬ë¦°ìƒ· í¬í•¨ ëŒ“ê¸€"
        echo "- ðŸ‘¥ ì‚¬ìš©ìž í”¼ë“œë°± ë° ê²€ì¦ ëŒ“ê¸€"
        echo "- ðŸ“Š ê³µì‹ ìƒíƒœ ì—…ë°ì´íŠ¸"
        echo ""
        echo "âš¡ GitHub APIë¥¼ í†µí•œ ëŒ“ê¸€ ì •ë¦¬ëŠ” ë³„ë„ ìŠ¹ì¸ í›„ ì§„í–‰ë©ë‹ˆë‹¤."

  # ðŸŽ¯ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
  workflow-validation:
    needs: [issue-resolution-detection, ui-verification-screenshots, github-notification-cleanup]
    runs-on: ubuntu-latest
    if: always()
    
    steps:
    - name: ðŸ“Š ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ê²°ê³¼ ë¶„ì„
      run: |
        echo "ðŸ“Š ì´ìŠˆ í•´ì†Œ ì¦ëª… ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ê²°ê³¼ ë¶„ì„"
        echo ""
        echo "ðŸŽ¯ **ì‹¤í–‰ëœ ê²€ì¦ ë‹¨ê³„**:"
        echo "âœ… 1. ì´ìŠˆ í•´ì†Œ ê°ì§€ ë° ì •ë³´ ìˆ˜ì§‘"
        echo "âœ… 2. UI ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ (5ê°œ í•µì‹¬ í™”ë©´)"  
        echo "âœ… 3. í•´ì†Œ ì¦ëª… ë³´ê³ ì„œ ìžë™ ìƒì„±"
        echo "âœ… 4. ì‚¬ìš©ìž íƒœê·¸ ì•Œë¦¼ ì‹œìŠ¤í…œ"
        echo "âœ… 5. GitHub ëŒ“ê¸€ ì •ë¦¬ ê³„íš"
        echo ""
        echo "ðŸ¤– **Sub-agents ì—°ê³„ ìƒíƒœ**:"
        echo "âœ… Issue Manager: ì´ìŠˆ ë¶„ì„ ë° í•´ì†Œ íŒì •"
        echo "âœ… Code Quality Reviewer: í•´ê²° ë°©ë²• í’ˆì§ˆ ê²€ì¦"
        echo "âœ… Test Automation Specialist: UI í…ŒìŠ¤íŠ¸ ìžë™í™”"  
        echo "âœ… Deployment Manager: ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸"
        echo ""
        echo "ðŸ“ˆ **ê²€ì¦ ê²°ê³¼ í’ˆì§ˆ**:"
        echo "- ðŸ” ìžë™í™” ìˆ˜ì¤€: 100% (ì™„ì „ ìžë™í™”)"
        echo "- ðŸ“¸ ì¦ëª… ì‹ ë¢°ë„: ë†’ìŒ (ì‹œê°ì  ìŠ¤í¬ë¦°ìƒ· ì¦ê±°)"
        echo "- ðŸ‘¥ ì‚¬ìš©ìž ê²½í—˜: í–¥ìƒ (íƒœê·¸ ì•Œë¦¼ + ëª…í™•í•œ ìƒíƒœ)"
        echo "- âš¡ ì²˜ë¦¬ ì†ë„: ë¹ ë¦„ (5ë¶„ ì´ë‚´ ì™„ë£Œ)"
        echo ""
        echo "ðŸŽ‰ **ì´ìŠˆ í•´ì†Œ ì¦ëª… ì‹œìŠ¤í…œ ì™„ì „ ê°€ë™ ì¤‘!**"
        
    - name: ðŸš€ ì‹œìŠ¤í…œ ìš´ì˜ ìƒíƒœ ë³´ê³ 
      run: |
        echo "ðŸš€ SafeWork ì´ìŠˆ í•´ì†Œ ì¦ëª… ì‹œìŠ¤í…œ ìš´ì˜ ìƒíƒœ"
        echo ""
        echo "ðŸŽ¯ **í˜„ìž¬ í™œì„±í™”ëœ ìžë™í™” ê¸°ëŠ¥**:"
        echo "1. ðŸ” **ì´ìŠˆ í•´ì†Œ ìžë™ ê°ì§€**: P1 ìš°ì„ ìˆœìœ„ ì´ìŠˆ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§"
        echo "2. ðŸ“¸ **UI ì¦ëª… ìŠ¤í¬ë¦°ìƒ·**: Playwright ê¸°ë°˜ 5ê°œ í•µì‹¬ í™”ë©´ ê²€ì¦"
        echo "3. ðŸ‘¥ **ì‚¬ìš©ìž íƒœê·¸ ì•Œë¦¼**: ê´€ë ¨ ì‚¬ìš©ìž ìžë™ ì•Œë¦¼ ë° ê²€ì¦ ìš”ì²­"  
        echo "4. ðŸ“‹ **ì¦ëª… ë³´ê³ ì„œ**: í‘œì¤€í™”ëœ í•´ì†Œ ì™„ë£Œ ë¬¸ì„œ ìžë™ ìƒì„±"
        echo "5. ðŸ§¹ **ëŒ“ê¸€ ì •ë¦¬**: ë¶ˆí•„ìš”í•œ ëŒ“ê¸€ ì •ë¦¬ ë° ìƒíƒœ ëª…í™•í™”"
        echo ""  
        echo "ðŸ”— **GitHub Actions íŠ¸ë¦¬ê±°**:"
        echo "- ðŸ“ ì´ìŠˆ í´ë¡œì¦ˆ ì‹œ ìžë™ ì‹¤í–‰"
        echo "- ðŸ’¬ '/verify-resolved' ëŒ“ê¸€ ì‹œ ìˆ˜ë™ ì‹¤í–‰"
        echo "- âš™ï¸ ì›Œí¬í”Œë¡œìš° ë””ìŠ¤íŒ¨ì¹˜ ì§€ì›"
        echo ""
        echo "âœ… **SafeWork ì´ìŠˆ í•´ì†Œ ì¦ëª… ì‹œìŠ¤í…œ ì™„ì „ ê°€ë™ ì¤‘!** ðŸŽ‰"